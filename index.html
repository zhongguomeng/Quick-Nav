<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>WebNav Hub</title>
  <style>
    /* 全局极简样式 */
    :root {
      --primary-color: #2c3e50;
      --accent-color: #3498db;
      --danger-color: #e74c3c;
      --success-color: #2ecc71;
      --light-color: #f8f9fa;
      --dark-color: #343a40;
      --gray-color: #e9ecef;
      --text-color: #333;
      --text-light: #6c757d;
      --border-radius: 6px;
      --spacing-sm: 8px;
      --spacing-md: 16px;
      --spacing-lg: 32px;
      --shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
      --shadow-hover: 0 4px 20px rgba(0, 0, 0, 0.08);
    }
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
      line-height: 1.6;
      color: var(--text-color);
      background-color: var(--light-color);
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 var(--spacing-md);
    }
    
    /* 头部样式 */
    header {
      text-align: center;
      padding: var(--spacing-lg) 0;
      margin-bottom: var(--spacing-md);
      border-bottom: 1px solid var(--gray-color);
    }
    
    header h1 {
      font-size: 2.5rem;
      font-weight: 300;
      color: var(--primary-color);
      letter-spacing: -0.5px;
    }
    
    /* 导航样式 */
    nav ul {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      list-style: none;
      margin-bottom: var(--spacing-lg);
      padding: 0;
    }
    
    nav ul li {
      margin: var(--spacing-sm);
    }
    
    nav ul li a {
      display: inline-block;
      padding: var(--spacing-sm) var(--spacing-md);
      color: var(--text-light);
      text-decoration: none;
      border-radius: var(--border-radius);
      transition: all 0.2s ease;
      font-weight: 500;
    }
    
    nav ul li a:hover {
      color: var(--accent-color);
      background-color: rgba(52, 152, 219, 0.05);
    }
    
    /* 主内容区样式 */
    main {
      margin-bottom: var(--spacing-lg);
    }
    
    section {
      margin-bottom: var(--spacing-lg);
    }
    
    .category-title {
      font-size: 1.4rem;
      font-weight: 500;
      color: var(--primary-color);
      margin-bottom: var(--spacing-md);
      padding-bottom: var(--spacing-sm);
      border-bottom: 1px solid var(--gray-color);
    }
    
    /* 链接网格样式 */
    .link-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
      gap: var(--spacing-md);
      margin-top: var(--spacing-md);
    }
    
    .link-card {
      position: relative;
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
      padding: var(--spacing-lg) var(--spacing-md);
      background-color: white;
      border-radius: var(--border-radius);
      text-decoration: none;
      color: var(--text-color);
      box-shadow: var(--shadow);
      transition: all 0.2s ease;
    }
    
    .link-card:hover {
      transform: translateY(-4px);
      box-shadow: var(--shadow-hover);
      color: var(--accent-color);
    }
    
    .link-icon {
      font-size: 2rem;
      margin-bottom: var(--spacing-md);
      color: var(--primary-color);
    }
    
    .link-card:hover .link-icon {
      color: var(--accent-color);
    }
    
    .link-title {
      font-weight: 500;
      margin-bottom: var(--spacing-sm);
    }
    
    /* 编辑和删除按钮 */
    .link-actions {
      position: absolute;
      top: var(--spacing-sm);
      right: var(--spacing-sm);
      display: none;
      gap: var(--spacing-sm);
    }
    
    .link-card:hover .link-actions {
      display: flex;
    }
    
    .edit-btn, .delete-btn {
      width: 28px;
      height: 28px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      font-size: 0.8rem;
      transition: all 0.2s ease;
    }
    
    .edit-btn {
      background-color: var(--accent-color);
      color: white;
    }
    
    .edit-btn:hover {
      background-color: #2980b9;
    }
    
    .delete-btn {
      background-color: var(--danger-color);
      color: white;
    }
    
    .delete-btn:hover {
      background-color: #c0392b;
    }
    
    /* 编辑表单样式 */
    #edit-form {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background-color: white;
      padding: var(--spacing-lg);
      border-radius: var(--border-radius);
      box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
      z-index: 1000;
      width: 90%;
      max-width: 500px;
      display: none;
    }
    
    #edit-form h2 {
      margin-bottom: var(--spacing-md);
      color: var(--primary-color);
      font-weight: 500;
    }
    
    #link-form {
      display: flex;
      flex-direction: column;
    }
    
    #link-form input,
    #link-form select {
      padding: var(--spacing-md);
      margin-bottom: var(--spacing-md);
      border: 1px solid var(--gray-color);
      border-radius: var(--border-radius);
      font-size: 1rem;
      transition: border-color 0.2s ease;
    }
    
    #link-form input:focus,
    #link-form select:focus {
      outline: none;
      border-color: var(--accent-color);
    }
    
    #link-form button {
      padding: var(--spacing-md);
      background-color: var(--accent-color);
      color: white;
      border: none;
      border-radius: var(--border-radius);
      font-size: 1rem;
      font-weight: 500;
      cursor: pointer;
      transition: background-color 0.2s ease;
    }
    
    #link-form button:hover {
      background-color: #2980b9;
    }
    
    /* 登录表单样式 */
    #login-form-modal {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background-color: white;
      padding: var(--spacing-lg);
      border-radius: var(--border-radius);
      box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
      z-index: 1001;
      width: 90%;
      max-width: 400px;
      display: none;
    }
    
    #login-form-modal h3 {
      margin-bottom: var(--spacing-md);
      color: var(--primary-color);
      text-align: center;
    }
    
    #login-form {
      display: flex;
      flex-direction: column;
    }
    
    #login-form input {
      padding: var(--spacing-md);
      margin-bottom: var(--spacing-md);
      border: 1px solid var(--gray-color);
      border-radius: var(--border-radius);
      font-size: 1rem;
      transition: border-color 0.2s ease;
    }
    
    #login-form input:focus {
      outline: none;
      border-color: var(--accent-color);
    }
    
    #login-form button {
      padding: var(--spacing-md);
      background-color: var(--success-color);
      color: white;
      border: none;
      border-radius: var(--border-radius);
      font-size: 1rem;
      font-weight: 500;
      cursor: pointer;
      transition: background-color 0.2s ease;
    }
    
    #login-form button:hover {
      background-color: #27ae60;
    }
    
    /* 登录状态指示器 */
    #login-status {
      position: fixed;
      top: var(--spacing-md);
      right: var(--spacing-md);
      background-color: var(--light-color);
      padding: var(--spacing-sm) var(--spacing-md);
      border-radius: var(--border-radius);
      box-shadow: var(--shadow);
      font-size: 0.9rem;
      display: flex;
      align-items: center;
      gap: var(--spacing-sm);
      z-index: 100;
    }
    
    .login-status-text {
      color: var(--text-light);
    }
    
    .login-status-text.logged-in {
      color: var(--success-color);
      font-weight: 500;
    }
    
    #logout-btn {
      background: none;
      border: none;
      color: var(--danger-color);
      cursor: pointer;
      font-size: 0.8rem;
      padding: 2px 6px;
      border-radius: 3px;
      transition: background-color 0.2s ease;
    }
    
    #logout-btn:hover {
      background-color: rgba(231, 76, 60, 0.1);
    }
    
    /* 删除确认模态框 */
    #delete-confirm {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background-color: white;
      padding: var(--spacing-lg);
      border-radius: var(--border-radius);
      box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
      z-index: 1000;
      width: 90%;
      max-width: 400px;
      display: none;
    }
    
    #delete-confirm h3 {
      margin-bottom: var(--spacing-md);
      color: var(--danger-color);
    }
    
    #delete-confirm p {
      margin-bottom: var(--spacing-lg);
      color: var(--text-color);
    }
    
    .confirm-buttons {
      display: flex;
      gap: var(--spacing-md);
      justify-content: flex-end;
    }
    
    .confirm-buttons button {
      padding: var(--spacing-sm) var(--spacing-md);
      border: none;
      border-radius: var(--border-radius);
      font-size: 1rem;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.2s ease;
    }
    
    #confirm-delete-btn {
      background-color: var(--danger-color);
      color: white;
    }
    
    #confirm-delete-btn:hover {
      background-color: #c0392b;
    }
    
    #cancel-delete-btn {
      background-color: var(--gray-color);
      color: var(--text-color);
    }
    
    #cancel-delete-btn:hover {
      background-color: #dee2e6;
    }
    
    /* 编辑按钮样式 */
    #toggle-edit {
      position: fixed;
      bottom: var(--spacing-lg);
      right: var(--spacing-lg);
      padding: var(--spacing-md) var(--spacing-lg);
      background-color: var(--primary-color);
      color: white;
      border: none;
      border-radius: var(--border-radius);
      font-size: 1rem;
      font-weight: 500;
      cursor: pointer;
      box-shadow: var(--shadow);
      transition: all 0.2s ease;
      z-index: 100;
    }
    
    #toggle-edit:hover {
      background-color: var(--dark-color);
      transform: translateY(-2px);
      box-shadow: var(--shadow-hover);
    }
    
    /* 页脚样式 */
    footer {
      text-align: center;
      padding: var(--spacing-lg) 0;
      margin-top: var(--spacing-lg);
      border-top: 1px solid var(--gray-color);
      color: var(--text-light);
      font-size: 0.9rem;
    }
    
    footer nav {
      margin-top: var(--spacing-md);
    }
    
    footer nav a {
      color: var(--text-light);
      text-decoration: none;
      margin: 0 var(--spacing-md);
      transition: color 0.2s ease;
    }
    
    footer nav a:hover {
      color: var(--accent-color);
    }
    
    /* 响应式设计 */
    @media (max-width: 768px) {
      .link-grid {
        grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
      }
      
      header h1 {
        font-size: 2rem;
      }
      
      nav ul {
        justify-content: flex-start;
        overflow-x: auto;
        white-space: nowrap;
        padding-bottom: var(--spacing-sm);
      }
      
      nav ul li {
        margin: 0 var(--spacing-sm) var(--spacing-sm) 0;
      }
      
      #toggle-edit {
        bottom: var(--spacing-md);
        right: var(--spacing-md);
      }
      
      #login-status {
        top: 10px;
        right: 10px;
        left: 10px;
        justify-content: space-between;
      }
      
      .link-actions {
        display: flex !important; /* 移动设备上始终显示操作按钮 */
      }
    }
    
    @media (max-width: 480px) {
      .link-grid {
        grid-template-columns: repeat(2, 1fr);
      }
      
      body {
        padding: 0 var(--spacing-sm);
      }
      
      .link-card {
        padding: var(--spacing-md) var(--spacing-sm);
      }
    }
  </style>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
</head>
<body>
  <!-- 登录状态指示器 -->
  <div id="login-status">
    <span id="login-status-text" class="login-status-text">未登录</span>
    <button id="login-btn" style="display: none;">登录</button>
    <button id="logout-btn" style="display: none;">退出登录</button>
  </div>
  
  <header>
    <h1>WebNav Hub</h1>
  </header>
  <nav>
    <ul>
      <li><a href="#ai-search">AI搜索</a></li>
      <li><a href="#social">社交媒体</a></li>
      <li><a href="#tools">实用工具</a></li>
      <li><a href="#tech-news">科技资讯</a></li>
      <li><a href="#cloud-storage">云存储</a></li>
      <li><a href="#email">电子邮箱</a></li>
    </ul>
  </nav>
  <main>
    <section id="ai-search">
      <h2 class="category-title">AI搜索</h2>
      <div class="link-grid"></div>
    </section>
    <section id="social">
      <h2 class="category-title">社交媒体</h2>
      <div class="link-grid"></div>
    </section>
    <section id="tools">
      <h2 class="category-title">实用工具</h2>
      <div class="link-grid"></div>
    </section>
    <section id="tech-news">
      <h2 class="category-title">科技资讯</h2>
      <div class="link-grid"></div>
    </section>
    <section id="cloud-storage">
      <h2 class="category-title">云存储</h2>
      <div class="link-grid"></div>
    </section>
    <section id="email">
      <h2 class="category-title">电子邮箱</h2>
      <div class="link-grid"></div>
    </section>
  </main>
  
  <!-- 登录表单 -->
  <div id="login-form-modal">
    <h3>登录管理</h3>
    <form id="login-form">
      <input type="password" id="login-password" name="login_password" placeholder="输入管理密码" required>
      <button type="submit">登录</button>
    </form>
  </div>
  
  <!-- 编辑表单 -->
  <div id="edit-form">
    <h2>添加/编辑链接</h2>
    <form id="link-form">
      <input type="password" id="edit-password" name="edit_password" placeholder="编辑密码" required>
      <select id="category" name="category" required>
        <option value="">选择类别</option>
        <option value="ai-search">AI搜索</option>
        <option value="social">社交媒体</option>
        <option value="tools">实用工具</option>
        <option value="tech-news">科技资讯</option>
        <option value="cloud-storage">云存储</option>
        <option value="email">电子邮箱</option>
      </select>
      <input type="text" id="title" name="title" placeholder="标题" required>
      <input type="url" id="url" name="url" placeholder="URL" required>
      <input type="text" id="icon" name="icon" placeholder="图标类名" required>
      <input type="hidden" id="edit-index" value="-1">
      <button type="submit">保存</button>
    </form>
  </div>
  
  <!-- 删除确认对话框 -->
  <div id="delete-confirm">
    <h3>确认删除</h3>
    <p>确定要删除这个链接吗？此操作无法撤销。</p>
    <div class="confirm-buttons">
      <button id="cancel-delete-btn">取消</button>
      <button id="confirm-delete-btn">删除</button>
    </div>
  </div>
  
  <button id="toggle-edit">编辑模式</button>
  
  <footer>
    <p>&copy; 2023 WebNav Hub. 保留所有权利。</p>
    <nav>
      <a href="#">隐私政策</a>
      <a href="#">使用条款</a>
      <a href="#">联系我们</a>
    </nav>
  </footer>
  
  <script>
    // 默认链接数据
    const defaultLinks = {
      "ai-search": [
        { title: "Google AI", url: "https://ai.google/", icon: "fab fa-google" },
        { title: "ChatGPT", url: "https://chat.openai.com/", icon: "fas fa-robot" },
        { title: "Claude", url: "https://claude.ai/", icon: "fas fa-brain" },
        { title: "Bing AI", url: "https://www.bing.com/search?q=Bing+AI&showconv=1", icon: "fab fa-microsoft" }
      ],
      "social": [
        { title: "Twitter", url: "https://twitter.com/", icon: "fab fa-twitter" },
        { title: "Facebook", url: "https://facebook.com/", icon: "fab fa-facebook" },
        { title: "Instagram", url: "https://instagram.com/", icon: "fab fa-instagram" },
        { title: "LinkedIn", url: "https://linkedin.com/", icon: "fab fa-linkedin" }
      ],
      "tools": [
        { title: "Canva", url: "https://canva.com/", icon: "fas fa-paint-brush" },
        { title: "Figma", url: "https://figma.com/", icon: "fab fa-figma" },
        { title: "Notion", url: "https://notion.so/", icon: "fas fa-sticky-note" },
        { title: "GitHub", url: "https://github.com/", icon: "fab fa-github" }
      ],
      "tech-news": [
        { title: "TechCrunch", url: "https://techcrunch.com/", icon: "fas fa-newspaper" },
        { title: "The Verge", url: "https://theverge.com/", icon: "fas fa-laptop" },
        { title: "WIRED", url: "https://wired.com/", icon: "fas fa-wifi" },
        { title: "Engadget", url: "https://engadget.com/", icon: "fas fa-mobile-alt" }
      ],
      "cloud-storage": [
        { title: "Google Drive", url: "https://drive.google.com/", icon: "fab fa-google-drive" },
        { title: "Dropbox", url: "https://dropbox.com/", icon: "fab fa-dropbox" },
        { title: "OneDrive", url: "https://onedrive.live.com/", icon: "fab fa-microsoft" },
        { title: "iCloud", url: "https://icloud.com/", icon: "fab fa-apple" }
      ],
      "email": [
        { title: "Gmail", url: "https://mail.google.com/", icon: "fas fa-envelope" },
        { title: "Outlook", url: "https://outlook.live.com/", icon: "fab fa-microsoft" },
        { title: "ProtonMail", url: "https://protonmail.com/", icon: "fas fa-lock" },
        { title: "Yahoo Mail", url: "https://mail.yahoo.com/", icon: "fab fa-yahoo" }
      ]
    };
    
    // 从本地存储加载链接，如果没有则使用默认链接
    let links = JSON.parse(localStorage.getItem('webnav-links')) || defaultLinks;
    
    // 登录状态管理
    let isLoggedIn = localStorage.getItem('webnav-logged-in') === 'true';
    
    // 用于跟踪当前要删除的链接信息
    let linkToDelete = null;
    
    // 页面加载时初始化
    document.addEventListener('DOMContentLoaded', () => {
      // 初始化登录状态
      updateLoginStatus();
      
      // 渲染所有链接
      renderAllLinks();
      
      // 设置登录按钮事件
      document.getElementById('login-status-text').addEventListener('click', openLoginForm);
      document.getElementById('logout-btn').addEventListener('click', logout);
      
      // 设置编辑模式切换
      document.getElementById('toggle-edit').addEventListener('click', toggleEditMode);
      
      // 设置表单提交
      document.getElementById('link-form').addEventListener('submit', handleFormSubmit);
      document.getElementById('login-form').addEventListener('submit', handleLoginSubmit);
      
      // 设置删除确认按钮
      document.getElementById('confirm-delete-btn').addEventListener('click', confirmDelete);
      document.getElementById('cancel-delete-btn').addEventListener('click', cancelDelete);
      
      // 点击页面其他地方关闭模态框
      document.addEventListener('click', (e) => {
        const editForm = document.getElementById('edit-form');
        const deleteConfirm = document.getElementById('delete-confirm');
        const loginForm = document.getElementById('login-form-modal');
        const toggleEditBtn = document.getElementById('toggle-edit');
        const loginStatusText = document.getElementById('login-status-text');
        
        // 关闭编辑表单
        if (editForm.style.display === 'block' && 
            !editForm.contains(e.target) && 
            e.target !== toggleEditBtn) {
          editForm.style.display = 'none';
        }
        
        // 关闭删除确认框
        if (deleteConfirm.style.display === 'block' && 
            !deleteConfirm.contains(e.target)) {
          deleteConfirm.style.display = 'none';
        }
        
        // 关闭登录表单
        if (loginForm.style.display === 'block' && 
            !loginForm.contains(e.target) && 
            e.target !== loginStatusText) {
          loginForm.style.display = 'none';
        }
      });
    });
    
    // 更新登录状态显示
    function updateLoginStatus() {
      const statusText = document.getElementById('login-status-text');
      const logoutBtn = document.getElementById('logout-btn');
      const loginBtn = document.getElementById('login-btn');
      
      if (isLoggedIn) {
        statusText.textContent = "已登录";
        statusText.className = "login-status-text logged-in";
        logoutBtn.style.display = "block";
        loginBtn.style.display = "none";
      } else {
        statusText.textContent = "未登录 (点击登录)";
        statusText.className = "login-status-text";
        logoutBtn.style.display = "none";
        loginBtn.style.display = "block";
      }
    }
    
    // 打开登录表单
    function openLoginForm() {
      if (!isLoggedIn) {
        document.getElementById('login-form-modal').style.display = 'block';
      }
    }
    
    // 处理登录表单提交
    function handleLoginSubmit(e) {
      e.preventDefault();
      
      const password = document.getElementById('login-password').value;
      
      // 密码验证（实际应用中应使用更安全的方法）
      if (password === "admin123") {
        isLoggedIn = true;
        localStorage.setItem('webnav-logged-in', 'true');
        updateLoginStatus();
        document.getElementById('login-form-modal').style.display = 'none';
        document.getElementById('login-form').reset();
        alert("登录成功！现在可以进行删除操作。");
      } else {
        alert("密码错误！");
      }
    }
    
    // 退出登录
    function logout() {
      isLoggedIn = false;
      localStorage.setItem('webnav-logged-in', 'false');
      updateLoginStatus();
      alert("已退出登录");
    }
    
    // 检查登录状态
    function checkLoginForDelete() {
      if (!isLoggedIn) {
        alert("请先登录才能进行删除操作！");
        openLoginForm();
        return false;
      }
      return true;
    }
    
    // 渲染所有类别的链接
    function renderAllLinks() {
      for (const category in links) {
        renderLinks(category);
      }
    }
    
    // 渲染特定类别的链接
    function renderLinks(category) {
      const linkGrid = document.querySelector(`#${category} .link-grid`);
      if (!linkGrid) return;
      
      linkGrid.innerHTML = '';
      
      links[category].forEach((link, index) => {
        const linkCard = document.createElement('div');
        linkCard.className = "link-card";
        
        // 创建链接部分
        const linkAnchor = document.createElement('a');
        linkAnchor.href = link.url;
        linkAnchor.target = "_blank";
        linkAnchor.style.textDecoration = "none";
        linkAnchor.style.color = "inherit";
        linkAnchor.style.width = "100%";
        linkAnchor.style.display = "flex";
        linkAnchor.style.flexDirection = "column";
        linkAnchor.style.alignItems = "center";
        
        linkAnchor.innerHTML = `
          <div class="link-icon">
            <i class="${link.icon}"></i>
          </div>
          <div class="link-title">${link.title}</div>
        `;
        
        // 创建操作按钮
        const actionsDiv = document.createElement('div');
        actionsDiv.className = "link-actions";
        
        const editBtn = document.createElement('div');
        editBtn.className = "edit-btn";
        editBtn.innerHTML = '<i class="fas fa-edit"></i>';
        editBtn.title = "编辑链接";
        editBtn.addEventListener('click', (e) => {
          e.preventDefault();
          e.stopPropagation();
          openEditForm(category, index, link);
        });
        
        const deleteBtn = document.createElement('div');
        deleteBtn.className = "delete-btn";
        deleteBtn.innerHTML = '<i class="fas fa-trash"></i>';
        deleteBtn.title = "删除链接";
        deleteBtn.addEventListener('click', (e) => {
          e.preventDefault();
          e.stopPropagation();
          
          // 检查登录状态
          if (checkLoginForDelete()) {
            openDeleteConfirm(category, index, link);
          }
        });
        
        actionsDiv.appendChild(editBtn);
        actionsDiv.appendChild(deleteBtn);
        
        linkCard.appendChild(linkAnchor);
        linkCard.appendChild(actionsDiv);
        linkGrid.appendChild(linkCard);
      });
    }
    
    // 打开编辑表单
    function openEditForm(category, index, link) {
      const editForm = document.getElementById('edit-form');
      const form = document.getElementById('link-form');
      
      // 填充表单数据
      document.getElementById('category').value = category;
      document.getElementById('title').value = link.title;
      document.getElementById('url').value = link.url;
      document.getElementById('icon').value = link.icon;
      document.getElementById('edit-index').value = index;
      
      // 显示表单
      editForm.style.display = 'block';
      
      // 更新编辑按钮状态
      document.getElementById('toggle-edit').textContent = '关闭编辑';
      document.getElementById('toggle-edit').style.backgroundColor = 'var(--dark-color)';
    }
    
    // 打开删除确认对话框
    function openDeleteConfirm(category, index, link) {
      linkToDelete = { category, index, link };
      const deleteConfirm = document.getElementById('delete-confirm');
      deleteConfirm.style.display = 'block';
    }
    
    // 确认删除
    function confirmDelete() {
      if (linkToDelete) {
        const { category, index } = linkToDelete;
        
        // 从数组中删除链接
        links[category].splice(index, 1);
        
        // 保存到本地存储
        localStorage.setItem('webnav-links', JSON.stringify(links));
        
        // 重新渲染链接
        renderLinks(category);
        
        // 关闭确认对话框
        document.getElementById('delete-confirm').style.display = 'none';
        
        // 重置删除跟踪
        linkToDelete = null;
        
        // 显示成功消息
        alert("链接已删除！");
      }
    }
    
    // 取消删除
    function cancelDelete() {
      document.getElementById('delete-confirm').style.display = 'none';
      linkToDelete = null;
    }
    
    // 切换编辑模式
    function toggleEditMode() {
      const editForm = document.getElementById('edit-form');
      const toggleEditBtn = document.getElementById('toggle-edit');
      
      if (editForm.style.display === 'block') {
        editForm.style.display = 'none';
        toggleEditBtn.textContent = '编辑模式';
        toggleEditBtn.style.backgroundColor = 'var(--primary-color)';
      } else {
        // 如果当前在编辑链接，先清空表单
        document.getElementById('link-form').reset();
        document.getElementById('edit-index').value = '-1';
        
        editForm.style.display = 'block';
        toggleEditBtn.textContent = '关闭编辑';
        toggleEditBtn.style.backgroundColor = 'var(--dark-color)';
      }
    }
    
    // 处理表单提交
    function handleFormSubmit(e) {
      e.preventDefault();
      
      const password = document.getElementById('edit-password').value;
      const category = document.getElementById('category').value;
      const title = document.getElementById('title').value;
      const url = document.getElementById('url').value;
      const icon = document.getElementById('icon').value;
      const editIndex = parseInt(document.getElementById('edit-index').value);
      
      // 简单密码验证
      if (password !== "admin123") {
        alert("密码错误！");
        return;
      }
      
      if (!category) {
        alert("请选择类别！");
        return;
      }
      
      // 确保类别数组存在
      if (!links[category]) {
        links[category] = [];
      }
      
      const newLink = { title, url, icon };
      
      // 判断是编辑现有链接还是添加新链接
      if (editIndex >= 0 && editIndex < links[category].length) {
        // 编辑现有链接
        links[category][editIndex] = newLink;
      } else {
        // 添加新链接
        links[category].push(newLink);
      }
      
      // 保存到本地存储
      localStorage.setItem('webnav-links', JSON.stringify(links));
      
      // 重新渲染链接
      renderLinks(category);
      
      // 关闭表单
      document.getElementById('edit-form').style.display = 'none';
      document.getElementById('toggle-edit').textContent = '编辑模式';
      document.getElementById('toggle-edit').style.backgroundColor = 'var(--primary-color)';
      
      // 清空表单
      document.getElementById('link-form').reset();
      document.getElementById('edit-index').value = '-1';
      
      alert("链接已保存！");
    }
  </script>
</body>
</html>
