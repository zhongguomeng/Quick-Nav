<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>极简导航</title>
  <style>
    /* 全局极简样式 */
    :root {
      --primary-color: #2c3e50;
      --accent-color: #3498db;
      --danger-color: #e74c3c;
      --success-color: #2ecc71;
      --light-color: #f8f9fa;
      --dark-color: #343a40;
      --gray-color: #e9ecef;
      --text-color: #333;
      --text-light: #6c757d;
      --border-radius: 6px;
      --spacing-sm: 8px;
      --spacing-md: 16px;
      --spacing-lg: 32px;
      --shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
      --shadow-hover: 0 4px 20px rgba(0, 0, 0, 0.08);
    }
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
      line-height: 1.6;
      color: var(--text-color);
      background-color: var(--light-color);
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 var(--spacing-md);
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }
    
    /* 头部样式 */
    header {
      text-align: center;
      padding: var(--spacing-lg) 0;
      margin-bottom: var(--spacing-md);
      border-bottom: 1px solid var(--gray-color);
    }
    
    header h1 {
      font-size: 2.5rem;
      font-weight: 300;
      color: var(--primary-color);
      letter-spacing: -0.5px;
    }
    
    /* 搜索框样式 */
    #search-box {
      max-width: 500px;
      margin: 0 auto var(--spacing-lg);
    }
    
    #search-input {
      width: 100%;
      padding: var(--spacing-md);
      border: 1px solid var(--gray-color);
      border-radius: var(--border-radius);
      font-size: 1rem;
      transition: all 0.2s ease;
    }
    
    #search-input:focus {
      outline: none;
      border-color: var(--accent-color);
      box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.1);
    }
    
    /* 主内容区样式 */
    main {
      flex: 1;
      margin-bottom: var(--spacing-lg);
    }
    
    /* 链接网格样式 */
    .link-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
      gap: var(--spacing-md);
      margin-top: var(--spacing-md);
    }
    
    .link-card {
      position: relative;
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
      padding: var(--spacing-lg) var(--spacing-md);
      background-color: white;
      border-radius: var(--border-radius);
      text-decoration: none;
      color: var(--text-color);
      box-shadow: var(--shadow);
      transition: all 0.2s ease;
      height: 100%;
    }
    
    .link-card:hover {
      transform: translateY(-4px);
      box-shadow: var(--shadow-hover);
      color: var(--accent-color);
    }
    
    .link-icon {
      font-size: 2rem;
      margin-bottom: var(--spacing-md);
      color: var(--primary-color);
    }
    
    .link-card:hover .link-icon {
      color: var(--accent-color);
    }
    
    .link-title {
      font-weight: 500;
      margin-bottom: var(--spacing-sm);
      word-break: break-word;
      width: 100%;
    }
    
    /* 编辑和删除按钮 */
    .link-actions {
      position: absolute;
      top: var(--spacing-sm);
      right: var(--spacing-sm);
      display: none;
      gap: var(--spacing-sm);
    }
    
    .link-card:hover .link-actions {
      display: flex;
    }
    
    .edit-btn, .delete-btn {
      width: 28px;
      height: 28px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      font-size: 0.8rem;
      transition: all 0.2s ease;
    }
    
    .edit-btn {
      background-color: var(--accent-color);
      color: white;
    }
    
    .edit-btn:hover {
      background-color: #2980b9;
    }
    
    .delete-btn {
      background-color: var(--danger-color);
      color: white;
    }
    
    .delete-btn:hover {
      background-color: #c0392b;
    }
    
    /* 编辑表单样式 */
    #edit-form {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background-color: white;
      padding: var(--spacing-lg);
      border-radius: var(--border-radius);
      box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
      z-index: 1000;
      width: 90%;
      max-width: 400px;
      display: none;
    }
    
    #edit-form h2 {
      margin-bottom: var(--spacing-md);
      color: var(--primary-color);
      font-weight: 500;
      text-align: center;
    }
    
    #link-form {
      display: flex;
      flex-direction: column;
    }
    
    #link-form input {
      padding: var(--spacing-md);
      margin-bottom: var(--spacing-md);
      border: 1px solid var(--gray-color);
      border-radius: var(--border-radius);
      font-size: 1rem;
      transition: border-color 0.2s ease;
    }
    
    #link-form input:focus {
      outline: none;
      border-color: var(--accent-color);
    }
    
    #link-form button {
      padding: var(--spacing-md);
      background-color: var(--accent-color);
      color: white;
      border: none;
      border-radius: var(--border-radius);
      font-size: 1rem;
      font-weight: 500;
      cursor: pointer;
      transition: background-color 0.2s ease;
    }
    
    #link-form button:hover {
      background-color: #2980b9;
    }
    
    /* 登录表单样式 */
    #login-form-modal {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background-color: white;
      padding: var(--spacing-lg);
      border-radius: var(--border-radius);
      box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
      z-index: 1001;
      width: 90%;
      max-width: 400px;
      display: none;
    }
    
    #login-form-modal h3 {
      margin-bottom: var(--spacing-md);
      color: var(--primary-color);
      text-align: center;
    }
    
    #login-form {
      display: flex;
      flex-direction: column;
    }
    
    #login-form input {
      padding: var(--spacing-md);
      margin-bottom: var(--spacing-md);
      border: 1px solid var(--gray-color);
      border-radius: var(--border-radius);
      font-size: 1rem;
      transition: border-color 0.2s ease;
    }
    
    #login-form input:focus {
      outline: none;
      border-color: var(--accent-color);
    }
    
    #login-form button {
      padding: var(--spacing-md);
      background-color: var(--success-color);
      color: white;
      border: none;
      border-radius: var(--border-radius);
      font-size: 1rem;
      font-weight: 500;
      cursor: pointer;
      transition: background-color 0.2s ease;
    }
    
    #login-form button:hover {
      background-color: #27ae60;
    }
    
    /* 登录状态指示器 */
    #login-status {
      position: fixed;
      top: var(--spacing-md);
      right: var(--spacing-md);
      background-color: var(--light-color);
      padding: var(--spacing-sm) var(--spacing-md);
      border-radius: var(--border-radius);
      box-shadow: var(--shadow);
      font-size: 0.9rem;
      display: flex;
      align-items: center;
      gap: var(--spacing-sm);
      z-index: 100;
    }
    
    .login-status-text {
      color: var(--text-light);
      cursor: pointer;
    }
    
    .login-status-text:hover {
      color: var(--accent-color);
    }
    
    .login-status-text.logged-in {
      color: var(--success-color);
      font-weight: 500;
    }
    
    #logout-btn {
      background: none;
      border: none;
      color: var(--danger-color);
      cursor: pointer;
      font-size: 0.8rem;
      padding: 2px 6px;
      border-radius: 3px;
      transition: background-color 0.2s ease;
    }
    
    #logout-btn:hover {
      background-color: rgba(231, 76, 60, 0.1);
    }
    
    /* 删除确认模态框 */
    #delete-confirm {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background-color: white;
      padding: var(--spacing-lg);
      border-radius: var(--border-radius);
      box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
      z-index: 1000;
      width: 90%;
      max-width: 400px;
      display: none;
    }
    
    #delete-confirm h3 {
      margin-bottom: var(--spacing-md);
      color: var(--danger-color);
      text-align: center;
    }
    
    #delete-confirm p {
      margin-bottom: var(--spacing-lg);
      color: var(--text-color);
      text-align: center;
    }
    
    .confirm-buttons {
      display: flex;
      gap: var(--spacing-md);
      justify-content: center;
    }
    
    .confirm-buttons button {
      padding: var(--spacing-sm) var(--spacing-md);
      border: none;
      border-radius: var(--border-radius);
      font-size: 1rem;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.2s ease;
      min-width: 80px;
    }
    
    #confirm-delete-btn {
      background-color: var(--danger-color);
      color: white;
    }
    
    #confirm-delete-btn:hover {
      background-color: #c0392b;
    }
    
    #cancel-delete-btn {
      background-color: var(--gray-color);
      color: var(--text-color);
    }
    
    #cancel-delete-btn:hover {
      background-color: #dee2e6;
    }
    
    /* 编辑按钮样式 */
    #toggle-edit {
      position: fixed;
      bottom: var(--spacing-lg);
      right: var(--spacing-lg);
      padding: var(--spacing-md) var(--spacing-lg);
      background-color: var(--primary-color);
      color: white;
      border: none;
      border-radius: var(--border-radius);
      font-size: 1rem;
      font-weight: 500;
      cursor: pointer;
      box-shadow: var(--shadow);
      transition: all 0.2s ease;
      z-index: 100;
    }
    
    #toggle-edit:hover {
      background-color: var(--dark-color);
      transform: translateY(-2px);
      box-shadow: var(--shadow-hover);
    }
    
    /* 空状态提示 */
    .empty-state {
      text-align: center;
      padding: var(--spacing-lg);
      color: var(--text-light);
      font-size: 1.1rem;
    }
    
    /* 页脚样式 */
    footer {
      text-align: center;
      padding: var(--spacing-lg) 0;
      margin-top: var(--spacing-lg);
      border-top: 1px solid var(--gray-color);
      color: var(--text-light);
      font-size: 0.9rem;
    }
    
    footer nav {
      margin-top: var(--spacing-md);
    }
    
    footer nav a {
      color: var(--text-light);
      text-decoration: none;
      margin: 0 var(--spacing-md);
      transition: color 0.2s ease;
    }
    
    footer nav a:hover {
      color: var(--accent-color);
    }
    
    /* 响应式设计 */
    @media (max-width: 768px) {
      .link-grid {
        grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
      }
      
      header h1 {
        font-size: 2rem;
      }
      
      #toggle-edit {
        bottom: var(--spacing-md);
        right: var(--spacing-md);
        padding: var(--spacing-md);
      }
      
      #login-status {
        top: 10px;
        right: 10px;
        left: 10px;
        justify-content: space-between;
      }
      
      .link-actions {
        display: flex !important; /* 移动设备上始终显示操作按钮 */
      }
    }
    
    @media (max-width: 480px) {
      .link-grid {
        grid-template-columns: repeat(2, 1fr);
        gap: var(--spacing-sm);
      }
      
      body {
        padding: 0 var(--spacing-sm);
      }
      
      .link-card {
        padding: var(--spacing-md) var(--spacing-sm);
      }
      
      header h1 {
        font-size: 1.8rem;
      }
    }
    
    @media (max-width: 360px) {
      .link-grid {
        grid-template-columns: 1fr;
      }
    }
  </style>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
</head>
<body>
  <!-- 登录状态指示器 -->
  <div id="login-status">
    <span id="login-status-text" class="login-status-text">未登录 (点击登录)</span>
    <button id="logout-btn" style="display: none;">退出登录</button>
  </div>
  
  <header>
    <h1>Quick Nav</h1>
  </header>
  
  <!-- 搜索框 -->
  <div id="search-box">
    <input type="text" id="search-input" placeholder="搜索链接...">
  </div>
  
  <!-- 主内容区 -->
  <main>
    <div class="link-grid" id="main-link-grid">
      <!-- 链接将在这里动态生成 -->
    </div>
    
    <!-- 空状态提示 -->
    <div id="empty-state" class="empty-state" style="display: none;">
      <p>还没有添加任何链接，点击右下角的"添加链接"按钮开始吧！</p>
    </div>
  </main>
  
  <!-- 登录表单 -->
  <div id="login-form-modal">
    <h3>登录管理</h3>
    <form id="login-form">
      <input type="password" id="login-password" name="login_password" placeholder="输入管理密码" required>
      <button type="submit">登录</button>
    </form>
  </div>
  
  <!-- 编辑表单 -->
  <div id="edit-form">
    <h2>添加/编辑链接</h2>
    <form id="link-form">
      <input type="password" id="edit-password" name="edit_password" placeholder="编辑密码" required>
      <input type="text" id="title" name="title" placeholder="链接标题" required>
      <input type="url" id="url" name="url" placeholder="链接地址 (https://...)" required>
      <input type="text" id="icon" name="icon" placeholder="图标类名 (如: fas fa-home)" required>
      <input type="hidden" id="edit-index" value="-1">
      <button type="submit">保存</button>
    </form>
  </div>
  
  <!-- 删除确认对话框 -->
  <div id="delete-confirm">
    <h3>确认删除</h3>
    <p>确定要删除这个链接吗？此操作无法撤销。</p>
    <div class="confirm-buttons">
      <button id="cancel-delete-btn">取消</button>
      <button id="confirm-delete-btn">删除</button>
    </div>
  </div>
  
  <button id="toggle-edit">添加链接</button>
  
  <footer>
    <p>&copy; 2026 Quick Nav. 极简导航工具</p>
    <nav>
      <a href="#" onclick="showAbout()">关于</a>
      <a href="#" onclick="showHelp()">帮助</a>
    </nav>
  </footer>
  
  <script>
    // 默认链接数据
    const defaultLinks = [
      { title: "Google", url: "https://google.com", icon: "fab fa-google" },
      { title: "DeepSeek", url: "https://chat.deepseek.com", icon: "fas fa-brain" },
      { title: "ChatGPT", url: "https://chat.openai.com", icon: "fas fa-robot" },
      { title: "GitHub", url: "https://github.com", icon: "fab fa-github" },
      { title: "YouTube", url: "https://youtube.com", icon: "fab fa-youtube" },
      { title: "Gmail", url: "https://mail.google.com", icon: "fas fa-envelope" },
      { title: "百度", url: "https://baidu.com", icon: "fas fa-search" },
      { title: "知乎", url: "https://zhihu.com", icon: "fas fa-question-circle" }
    ];
    
    // 从本地存储加载链接，如果没有则使用默认链接
    let links = JSON.parse(localStorage.getItem('quicknav-links')) || defaultLinks;
    
    // 登录状态管理
    let isLoggedIn = localStorage.getItem('quicknav-logged-in') === 'true';
    
    // 用于跟踪当前要删除的链接信息
    let linkToDelete = null;
    
    // 页面加载时初始化
    document.addEventListener('DOMContentLoaded', () => {
      // 初始化登录状态
      updateLoginStatus();
      
      // 渲染所有链接
      renderAllLinks();
      
      // 设置搜索功能
      document.getElementById('search-input').addEventListener('input', handleSearch);
      
      // 设置登录按钮事件
      document.getElementById('login-status-text').addEventListener('click', openLoginForm);
      document.getElementById('logout-btn').addEventListener('click', logout);
      
      // 设置编辑模式切换
      document.getElementById('toggle-edit').addEventListener('click', toggleEditMode);
      
      // 设置表单提交
      document.getElementById('link-form').addEventListener('submit', handleFormSubmit);
      document.getElementById('login-form').addEventListener('submit', handleLoginSubmit);
      
      // 设置删除确认按钮
      document.getElementById('confirm-delete-btn').addEventListener('click', confirmDelete);
      document.getElementById('cancel-delete-btn').addEventListener('click', cancelDelete);
      
      // 点击页面其他地方关闭模态框
      document.addEventListener('click', (e) => {
        const editForm = document.getElementById('edit-form');
        const deleteConfirm = document.getElementById('delete-confirm');
        const loginForm = document.getElementById('login-form-modal');
        const toggleEditBtn = document.getElementById('toggle-edit');
        const loginStatusText = document.getElementById('login-status-text');
        
        // 关闭编辑表单
        if (editForm.style.display === 'block' && 
            !editForm.contains(e.target) && 
            e.target !== toggleEditBtn) {
          editForm.style.display = 'none';
        }
        
        // 关闭删除确认框
        if (deleteConfirm.style.display === 'block' && 
            !deleteConfirm.contains(e.target)) {
          deleteConfirm.style.display = 'none';
        }
        
        // 关闭登录表单
        if (loginForm.style.display === 'block' && 
            !loginForm.contains(e.target) && 
            e.target !== loginStatusText) {
          loginForm.style.display = 'none';
        }
      });
    });
    
    // 更新登录状态显示
    function updateLoginStatus() {
      const statusText = document.getElementById('login-status-text');
      const logoutBtn = document.getElementById('logout-btn');
      
      if (isLoggedIn) {
        statusText.textContent = "已登录";
        statusText.className = "login-status-text logged-in";
        logoutBtn.style.display = "block";
      } else {
        statusText.textContent = "未登录 (点击登录)";
        statusText.className = "login-status-text";
        logoutBtn.style.display = "none";
      }
      
      // 更新链接显示（重新渲染以显示/隐藏操作按钮）
      renderAllLinks(document.getElementById('search-input').value);
    }
    
    // 打开登录表单
    function openLoginForm() {
      if (!isLoggedIn) {
        document.getElementById('login-form-modal').style.display = 'block';
      }
    }
    
    // 处理登录表单提交
    function handleLoginSubmit(e) {
      e.preventDefault();
      
      const password = document.getElementById('login-password').value;
      
      // 密码验证
      if (password === "admin123") {
        isLoggedIn = true;
        localStorage.setItem('quicknav-logged-in', 'true');
        updateLoginStatus();
        document.getElementById('login-form-modal').style.display = 'none';
        document.getElementById('login-form').reset();
        alert("登录成功！现在可以进行管理操作。");
      } else {
        alert("密码错误！");
      }
    }
    
    // 退出登录
    function logout() {
      isLoggedIn = false;
      localStorage.setItem('quicknav-logged-in', 'false');
      updateLoginStatus();
      alert("已退出登录");
    }
    
    // 检查登录状态（用于删除操作）
    function checkLoginForDelete() {
      if (!isLoggedIn) {
        alert("请先登录才能进行删除操作！");
        openLoginForm();
        return false;
      }
      return true;
    }
    
    // 渲染所有链接
    function renderAllLinks(searchTerm = '') {
      const linkGrid = document.getElementById('main-link-grid');
      const emptyState = document.getElementById('empty-state');
      
      if (!linkGrid) return;
      
      linkGrid.innerHTML = '';
      
      // 过滤链接
      const filteredLinks = links.filter(link => {
        if (!searchTerm.trim()) return true;
        return link.title.toLowerCase().includes(searchTerm.toLowerCase()) || 
               link.url.toLowerCase().includes(searchTerm.toLowerCase());
      });
      
      // 如果没有链接，显示空状态
      if (filteredLinks.length === 0) {
        if (searchTerm.trim()) {
          emptyState.innerHTML = `<p>没有找到包含"${searchTerm}"的链接</p>`;
        } else {
          emptyState.innerHTML = `<p>还没有添加任何链接，点击右下角的"添加链接"按钮开始吧！</p>`;
        }
        emptyState.style.display = 'block';
        return;
      }
      
      emptyState.style.display = 'none';
      
      // 渲染链接
      filteredLinks.forEach((link, index) => {
        // 创建链接容器（使用div而不是a，因为要包含操作按钮）
        const linkContainer = document.createElement('div');
        linkContainer.className = "link-card";
        
        // 创建链接部分
        const linkAnchor = document.createElement('a');
        linkAnchor.href = link.url;
        linkAnchor.target = "_blank";
        linkAnchor.style.textDecoration = "none";
        linkAnchor.style.color = "inherit";
        linkAnchor.style.width = "100%";
        linkAnchor.style.display = "flex";
        linkAnchor.style.flexDirection = "column";
        linkAnchor.style.alignItems = "center";
        linkAnchor.rel = "noopener noreferrer";
        
        linkAnchor.innerHTML = `
          <div class="link-icon">
            <i class="${link.icon}"></i>
          </div>
          <div class="link-title">${link.title}</div>
        `;
        
        // 创建操作按钮
        const actionsDiv = document.createElement('div');
        actionsDiv.className = "link-actions";
        
        const editBtn = document.createElement('div');
        editBtn.className = "edit-btn";
        editBtn.innerHTML = '<i class="fas fa-edit"></i>';
        editBtn.title = "编辑链接";
        editBtn.addEventListener('click', (e) => {
          e.preventDefault();
          e.stopPropagation();
          openEditForm(index, link);
        });
        
        const deleteBtn = document.createElement('div');
        deleteBtn.className = "delete-btn";
        deleteBtn.innerHTML = '<i class="fas fa-trash"></i>';
        deleteBtn.title = "删除链接";
        deleteBtn.addEventListener('click', (e) => {
          e.preventDefault();
          e.stopPropagation();
          openDeleteConfirm(index, link);
        });
        
        actionsDiv.appendChild(editBtn);
        actionsDiv.appendChild(deleteBtn);
        
        // 组装链接卡片
        linkContainer.appendChild(linkAnchor);
        
        // 只有登录后才显示操作按钮
        if (isLoggedIn) {
          linkContainer.appendChild(actionsDiv);
        }
        
        linkGrid.appendChild(linkContainer);
      });
    }
    
    // 处理搜索
    function handleSearch(e) {
      const searchTerm = e.target.value;
      renderAllLinks(searchTerm);
    }
    
    // 打开编辑表单
    function openEditForm(index, link) {
      // 检查登录状态
      if (!isLoggedIn) {
        alert("请先登录才能编辑链接！");
        openLoginForm();
        return;
      }
      
      const editForm = document.getElementById('edit-form');
      
      // 填充表单数据
      document.getElementById('title').value = link.title;
      document.getElementById('url').value = link.url;
      document.getElementById('icon').value = link.icon;
      document.getElementById('edit-index').value = index;
      
      // 显示表单
      editForm.style.display = 'block';
    }
    
    // 打开删除确认对话框
    function openDeleteConfirm(index, link) {
      // 检查登录状态
      if (!checkLoginForDelete()) return;
      
      linkToDelete = { index, link };
      document.getElementById('delete-confirm').style.display = 'block';
    }
    
    // 确认删除
    function confirmDelete() {
      if (linkToDelete) {
        const { index } = linkToDelete;
        
        // 从数组中删除链接
        links.splice(index, 1);
        
        // 保存到本地存储
        localStorage.setItem('quicknav-links', JSON.stringify(links));
        
        // 重新渲染链接
        renderAllLinks(document.getElementById('search-input').value);
        
        // 关闭确认对话框
        document.getElementById('delete-confirm').style.display = 'none';
        
        // 重置删除跟踪
        linkToDelete = null;
        
        // 显示成功消息
        alert("链接已删除！");
      }
    }
    
    // 取消删除
    function cancelDelete() {
      document.getElementById('delete-confirm').style.display = 'none';
      linkToDelete = null;
    }
    
    // 切换编辑模式
    function toggleEditMode() {
      const editForm = document.getElementById('edit-form');
      const toggleEditBtn = document.getElementById('toggle-edit');
      
      if (editForm.style.display === 'block') {
        editForm.style.display = 'none';
        toggleEditBtn.textContent = '添加链接';
        toggleEditBtn.style.backgroundColor = 'var(--primary-color)';
      } else {
        // 检查登录状态
        if (!isLoggedIn) {
          alert("请先登录才能添加链接！");
          openLoginForm();
          return;
        }
        
        // 清空表单
        document.getElementById('link-form').reset();
        document.getElementById('edit-index').value = '-1';
        
        editForm.style.display = 'block';
        toggleEditBtn.textContent = '关闭';
        toggleEditBtn.style.backgroundColor = 'var(--dark-color)';
      }
    }
    
    // 处理表单提交
    function handleFormSubmit(e) {
      e.preventDefault();
      
      const password = document.getElementById('edit-password').value;
      const title = document.getElementById('title').value;
      const url = document.getElementById('url').value;
      const icon = document.getElementById('icon').value;
      const editIndex = parseInt(document.getElementById('edit-index').value);
      
      // 密码验证
      if (password !== "admin123") {
        alert("密码错误！");
        return;
      }
      
      // 验证输入
      if (!title.trim()) {
        alert("请输入链接标题！");
        return;
      }
      
      if (!url.trim()) {
        alert("请输入链接地址！");
        return;
      }
      
      // 确保URL有协议
      let finalUrl = url;
      if (!url.startsWith('http://') && !url.startsWith('https://')) {
        finalUrl = 'https://' + url;
      }
      
      const newLink = { title: title.trim(), url: finalUrl, icon: icon.trim() || 'fas fa-link' };
      
      // 判断是编辑现有链接还是添加新链接
      if (editIndex >= 0 && editIndex < links.length) {
        // 编辑现有链接
        links[editIndex] = newLink;
      } else {
        // 添加新链接
        links.push(newLink);
      }
      
      // 保存到本地存储
      localStorage.setItem('quicknav-links', JSON.stringify(links));
      
      // 重新渲染链接
      renderAllLinks(document.getElementById('search-input').value);
      
      // 关闭表单
      document.getElementById('edit-form').style.display = 'none';
      document.getElementById('toggle-edit').textContent = '添加链接';
      document.getElementById('toggle-edit').style.backgroundColor = 'var(--primary-color)';
      
      // 清空表单
      document.getElementById('link-form').reset();
      document.getElementById('edit-index').value = '-1';
      
      alert("链接已保存！");
    }
    
    // 显示关于信息
    function showAbout() {
      alert("Quick Nav - 极简导航工具\n\n一个简洁、快速的个人导航页面，可以自由添加和管理常用网站链接。\n\n
            ");
    }
    
    // 显示帮助信息
    function showHelp() {
      alert("使用帮助：\n\n1. 点击链接可以快速访问网站\n2. 点击右下角'添加链接'可以添加新链接（需要先登录）\n3. 登录后可以对链接进行编辑和删除\n4. 在搜索框中输入关键词可以快速查找链接\n5.");
    }
  </script>
</body>
</html>
