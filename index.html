<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>æç®€å¯¼èˆª - äº‘ç«¯åŒæ­¥ç‰ˆ</title>
  <style>
    /* å…¨å±€æç®€æ ·å¼ */
    :root {
      --primary-color: #2c3e50;
      --accent-color: #3498db;
      --danger-color: #e74c3c;
      --success-color: #2ecc71;
      --light-color: #f8f9fa;
      --dark-color: #343a40;
      --gray-color: #e9ecef;
      --text-color: #333;
      --text-light: #6c757d;
      --border-radius: 6px;
      --spacing-sm: 8px;
      --spacing-md: 16px;
      --spacing-lg: 32px;
      --shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
      --shadow-hover: 0 4px 20px rgba(0, 0, 0, 0.08);
    }
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
      line-height: 1.6;
      color: var(--text-color);
      background-color: var(--light-color);
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 var(--spacing-md);
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }
    
    /* å¤´éƒ¨æ ·å¼ */
    header {
      text-align: center;
      padding: var(--spacing-lg) 0;
      margin-bottom: var(--spacing-md);
      border-bottom: 1px solid var(--gray-color);
    }
    
    header h1 {
      font-size: 2.5rem;
      font-weight: 300;
      color: var(--primary-color);
      letter-spacing: -0.5px;
    }
    
    /* æœç´¢æ¡†æ ·å¼ */
    #search-box {
      max-width: 500px;
      margin: 0 auto var(--spacing-lg);
    }
    
    #search-input {
      width: 100%;
      padding: var(--spacing-md);
      border: 1px solid var(--gray-color);
      border-radius: var(--border-radius);
      font-size: 1rem;
      transition: all 0.2s ease;
    }
    
    #search-input:focus {
      outline: none;
      border-color: var(--accent-color);
      box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.1);
    }
    
    /* ä¸»å†…å®¹åŒºæ ·å¼ */
    main {
      flex: 1;
      margin-bottom: var(--spacing-lg);
    }
    
    /* é“¾æ¥ç½‘æ ¼æ ·å¼ */
    .link-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
      gap: var(--spacing-md);
      margin-top: var(--spacing-md);
    }
    
    .link-card {
      position: relative;
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
      padding: var(--spacing-lg) var(--spacing-md);
      background-color: white;
      border-radius: var(--border-radius);
      text-decoration: none;
      color: var(--text-color);
      box-shadow: var(--shadow);
      transition: all 0.2s ease;
      height: 100%;
    }
    
    .link-card:hover {
      transform: translateY(-4px);
      box-shadow: var(--shadow-hover);
      color: var(--accent-color);
    }
    
    .link-icon {
      font-size: 2rem;
      margin-bottom: var(--spacing-md);
      color: var(--primary-color);
    }
    
    .link-card:hover .link-icon {
      color: var(--accent-color);
    }
    
    .link-title {
      font-weight: 500;
      margin-bottom: var(--spacing-sm);
      word-break: break-word;
      width: 100%;
    }
    
    /* ç¼–è¾‘å’Œåˆ é™¤æŒ‰é’® */
    .link-actions {
      position: absolute;
      top: var(--spacing-sm);
      right: var(--spacing-sm);
      display: none;
      gap: var(--spacing-sm);
    }
    
    .link-card:hover .link-actions {
      display: flex;
    }
    
    .edit-btn, .delete-btn {
      width: 28px;
      height: 28px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      font-size: 0.8rem;
      transition: all 0.2s ease;
    }
    
    .edit-btn {
      background-color: var(--accent-color);
      color: white;
    }
    
    .edit-btn:hover {
      background-color: #2980b9;
    }
    
    .delete-btn {
      background-color: var(--danger-color);
      color: white;
    }
    
    .delete-btn:hover {
      background-color: #c0392b;
    }
    
    /* ç™»å½•çŠ¶æ€æŒ‡ç¤ºå™¨ */
    #login-status {
      position: fixed;
      top: var(--spacing-md);
      right: var(--spacing-md);
      background-color: var(--light-color);
      padding: var(--spacing-sm) var(--spacing-md);
      border-radius: var(--border-radius);
      box-shadow: var(--shadow);
      font-size: 0.9rem;
      display: flex;
      align-items: center;
      gap: var(--spacing-sm);
      z-index: 100;
    }
    
    .login-status-text {
      color: var(--text-light);
      cursor: pointer;
    }
    
    .login-status-text:hover {
      color: var(--accent-color);
    }
    
    .login-status-text.logged-in {
      color: var(--success-color);
      font-weight: 500;
    }
    
    #logout-btn {
      background: none;
      border: none;
      color: var(--danger-color);
      cursor: pointer;
      font-size: 0.8rem;
      padding: 2px 6px;
      border-radius: 3px;
      transition: background-color 0.2s ease;
    }
    
    #logout-btn:hover {
      background-color: rgba(231, 76, 60, 0.1);
    }
    
    /* äº‘ç«¯åŒæ­¥çŠ¶æ€æŒ‡ç¤ºå™¨ */
    #cloud-status {
      position: fixed;
      top: 70px;
      right: var(--spacing-md);
      background-color: var(--light-color);
      padding: 6px 12px;
      border-radius: var(--border-radius);
      box-shadow: var(--shadow);
      font-size: 0.8rem;
      display: flex;
      align-items: center;
      gap: 6px;
      z-index: 99;
      cursor: pointer;
      transition: all 0.3s ease;
    }
    
    #cloud-status:hover {
      background-color: var(--accent-color);
      color: white;
    }
    
    .cloud-icon {
      font-size: 0.9rem;
    }
    
    .cloud-status-text {
      font-weight: 500;
    }
    
    .cloud-synced {
      color: var(--success-color);
    }
    
    .cloud-pending {
      color: var(--accent-color);
      animation: pulse 1.5s infinite;
    }
    
    .cloud-error {
      color: var(--danger-color);
    }
    
    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.5; }
    }
    
    /* è¡¨å•æ¨¡æ€æ¡†é€šç”¨æ ·å¼ */
    .modal {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background-color: white;
      padding: var(--spacing-lg);
      border-radius: var(--border-radius);
      box-shadow: 0 10px 40px rgba(0, 0, 0, 0.15);
      z-index: 1000;
      width: 90%;
      max-width: 400px;
      display: none;
    }
    
    .modal h2, .modal h3 {
      margin-bottom: var(--spacing-md);
      color: var(--primary-color);
      text-align: center;
    }
    
    .modal form {
      display: flex;
      flex-direction: column;
    }
    
    .modal input {
      padding: var(--spacing-md);
      margin-bottom: var(--spacing-md);
      border: 1px solid var(--gray-color);
      border-radius: var(--border-radius);
      font-size: 1rem;
      transition: border-color 0.2s ease;
    }
    
    .modal input:focus {
      outline: none;
      border-color: var(--accent-color);
    }
    
    .modal button {
      padding: var(--spacing-md);
      border: none;
      border-radius: var(--border-radius);
      font-size: 1rem;
      font-weight: 500;
      cursor: pointer;
      transition: background-color 0.2s ease;
    }
    
    /* ç™»å½•è¡¨å• */
    #login-form-modal {
      z-index: 1001;
    }
    
    #login-form button {
      background-color: var(--success-color);
      color: white;
    }
    
    #login-form button:hover {
      background-color: #27ae60;
    }
    
    /* ç¼–è¾‘è¡¨å• */
    #edit-form button {
      background-color: var(--accent-color);
      color: white;
    }
    
    #edit-form button:hover {
      background-color: #2980b9;
    }
    
    /* åˆ é™¤ç¡®è®¤å¯¹è¯æ¡† */
    #delete-confirm {
      max-width: 350px;
    }
    
    #delete-confirm p {
      margin-bottom: var(--spacing-lg);
      color: var(--text-color);
      text-align: center;
    }
    
    .confirm-buttons {
      display: flex;
      gap: var(--spacing-md);
      justify-content: center;
    }
    
    .confirm-buttons button {
      padding: var(--spacing-sm) var(--spacing-md);
      min-width: 80px;
    }
    
    #confirm-delete-btn {
      background-color: var(--danger-color);
      color: white;
    }
    
    #confirm-delete-btn:hover {
      background-color: #c0392b;
    }
    
    #cancel-delete-btn {
      background-color: var(--gray-color);
      color: var(--text-color);
    }
    
    #cancel-delete-btn:hover {
      background-color: #dee2e6;
    }
    
    /* äº‘ç«¯ç®¡ç†é¢æ¿ */
    #cloud-management {
      max-width: 500px;
      z-index: 1002;
    }
    
    #cloud-management h3 {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
    }
    
    .cloud-tabs {
      display: flex;
      margin-bottom: var(--spacing-md);
      border-bottom: 1px solid var(--gray-color);
    }
    
    .cloud-tab {
      flex: 1;
      padding: var(--spacing-sm);
      text-align: center;
      cursor: pointer;
      border-bottom: 3px solid transparent;
      transition: all 0.2s ease;
    }
    
    .cloud-tab.active {
      border-bottom-color: var(--accent-color);
      color: var(--accent-color);
      font-weight: 500;
    }
    
    .cloud-tab-content {
      display: none;
    }
    
    .cloud-tab-content.active {
      display: block;
    }
    
    .sync-info {
      background-color: var(--light-color);
      padding: var(--spacing-md);
      border-radius: var(--border-radius);
      margin-bottom: var(--spacing-md);
      font-size: 0.9rem;
    }
    
    .sync-info-item {
      display: flex;
      justify-content: space-between;
      margin-bottom: 8px;
    }
    
    .sync-info-item:last-child {
      margin-bottom: 0;
    }
    
    .sync-actions {
      display: flex;
      flex-direction: column;
      gap: var(--spacing-md);
      margin: var(--spacing-lg) 0;
    }
    
    .sync-btn {
      padding: var(--spacing-md);
      border: none;
      border-radius: var(--border-radius);
      font-size: 1rem;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: var(--spacing-sm);
      transition: all 0.2s ease;
    }
    
    .sync-btn-primary {
      background-color: var(--accent-color);
      color: white;
    }
    
    .sync-btn-primary:hover {
      background-color: #2980b9;
    }
    
    .sync-btn-secondary {
      background-color: var(--light-color);
      color: var(--text-color);
      border: 1px solid var(--gray-color);
    }
    
    .sync-btn-secondary:hover {
      background-color: var(--gray-color);
    }
    
    .sync-btn-success {
      background-color: var(--success-color);
      color: white;
    }
    
    .sync-btn-success:hover {
      background-color: #27ae60;
    }
    
    .config-form {
      display: flex;
      flex-direction: column;
      gap: var(--spacing-md);
    }
    
    .config-form input {
      padding: var(--spacing-md);
      border: 1px solid var(--gray-color);
      border-radius: var(--border-radius);
      font-size: 1rem;
    }
    
    .config-form input:focus {
      outline: none;
      border-color: var(--accent-color);
    }
    
    .password-toggle {
      position: absolute;
      right: 10px;
      top: 50%;
      transform: translateY(-50%);
      background: none;
      border: none;
      color: var(--text-light);
      cursor: pointer;
    }
    
    .input-wrapper {
      position: relative;
    }
    
    /* åŒæ­¥çŠ¶æ€é€šçŸ¥ */
    .sync-notification {
      position: fixed;
      top: 20px;
      left: 50%;
      transform: translateX(-50%);
      background-color: var(--success-color);
      color: white;
      padding: var(--spacing-md) var(--spacing-lg);
      border-radius: var(--border-radius);
      box-shadow: var(--shadow-hover);
      z-index: 1003;
      display: none;
      animation: slideDown 0.3s ease;
    }
    
    @keyframes slideDown {
      from { top: -50px; }
      to { top: 20px; }
    }
    
    /* åŠ è½½åŠ¨ç”» */
    .loader {
      display: inline-block;
      width: 20px;
      height: 20px;
      border: 3px solid rgba(255,255,255,.3);
      border-radius: 50%;
      border-top-color: white;
      animation: spin 1s ease-in-out infinite;
    }
    
    @keyframes spin {
      to { transform: rotate(360deg); }
    }
    
    /* ç¼–è¾‘æŒ‰é’®æ ·å¼ */
    #toggle-edit {
      position: fixed;
      bottom: var(--spacing-lg);
      right: var(--spacing-lg);
      padding: var(--spacing-md) var(--spacing-lg);
      background-color: var(--primary-color);
      color: white;
      border: none;
      border-radius: var(--border-radius);
      font-size: 1rem;
      font-weight: 500;
      cursor: pointer;
      box-shadow: var(--shadow);
      transition: all 0.2s ease;
      z-index: 100;
    }
    
    #toggle-edit:hover {
      background-color: var(--dark-color);
      transform: translateY(-2px);
      box-shadow: var(--shadow-hover);
    }
    
    /* ç©ºçŠ¶æ€æç¤º */
    .empty-state {
      text-align: center;
      padding: var(--spacing-lg);
      color: var(--text-light);
      font-size: 1.1rem;
    }
    
    /* é¡µè„šæ ·å¼ */
    footer {
      text-align: center;
      padding: var(--spacing-lg) 0;
      margin-top: var(--spacing-lg);
      border-top: 1px solid var(--gray-color);
      color: var(--text-light);
      font-size: 0.9rem;
    }
    
    footer nav {
      margin-top: var(--spacing-md);
    }
    
    footer nav a {
      color: var(--text-light);
      text-decoration: none;
      margin: 0 var(--spacing-md);
      transition: color 0.2s ease;
    }
    
    footer nav a:hover {
      color: var(--accent-color);
    }
    
    /* å“åº”å¼è®¾è®¡ */
    @media (max-width: 768px) {
      .link-grid {
        grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
      }
      
      header h1 {
        font-size: 2rem;
      }
      
      #toggle-edit {
        bottom: var(--spacing-md);
        right: var(--spacing-md);
        padding: var(--spacing-md);
      }
      
      #login-status {
        top: 10px;
        right: 10px;
        left: 10px;
        justify-content: space-between;
      }
      
      #cloud-status {
        top: 60px;
        right: 10px;
        left: 10px;
        justify-content: center;
      }
      
      .link-actions {
        display: flex !important;
      }
    }
    
    @media (max-width: 480px) {
      .link-grid {
        grid-template-columns: repeat(2, 1fr);
        gap: var(--spacing-sm);
      }
      
      body {
        padding: 0 var(--spacing-sm);
      }
      
      .link-card {
        padding: var(--spacing-md) var(--spacing-sm);
      }
      
      header h1 {
        font-size: 1.8rem;
      }
      
      .cloud-tabs {
        flex-direction: column;
      }
      
      .sync-actions {
        gap: var(--spacing-sm);
      }
    }
    
    @media (max-width: 360px) {
      .link-grid {
        grid-template-columns: 1fr;
      }
    }
  </style>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
</head>
<body>
  <!-- ç™»å½•çŠ¶æ€æŒ‡ç¤ºå™¨ -->
  <div id="login-status">
    <span id="login-status-text" class="login-status-text">æœªç™»å½• (ç‚¹å‡»ç™»å½•)</span>
    <button id="logout-btn" style="display: none;">é€€å‡ºç™»å½•</button>
  </div>
  
  <!-- äº‘ç«¯åŒæ­¥çŠ¶æ€ -->
  <div id="cloud-status" title="ç‚¹å‡»ç®¡ç†äº‘ç«¯åŒæ­¥">
    <i class="fas fa-cloud cloud-icon"></i>
    <span id="cloud-status-text" class="cloud-status-text">æœ¬åœ°æ¨¡å¼</span>
  </div>
  
  <header>
    <h1>Quick Nav <small style="font-size: 0.5em; color: var(--accent-color);">äº‘ç«¯ç‰ˆ</small></h1>
  </header>
  
  <!-- æœç´¢æ¡† -->
  <div id="search-box">
    <input type="text" id="search-input" placeholder="æœç´¢é“¾æ¥...">
  </div>
  
  <!-- ä¸»å†…å®¹åŒº -->
  <main>
    <div class="link-grid" id="main-link-grid">
      <!-- é“¾æ¥å°†åœ¨è¿™é‡ŒåŠ¨æ€ç”Ÿæˆ -->
    </div>
    
    <!-- ç©ºçŠ¶æ€æç¤º -->
    <div id="empty-state" class="empty-state" style="display: none;">
      <p>è¿˜æ²¡æœ‰æ·»åŠ ä»»ä½•é“¾æ¥ï¼Œç‚¹å‡»å³ä¸‹è§’çš„"æ·»åŠ é“¾æ¥"æŒ‰é’®å¼€å§‹å§ï¼</p>
    </div>
  </main>
  
  <!-- åŒæ­¥é€šçŸ¥ -->
  <div id="sync-notification" class="sync-notification"></div>
  
  <!-- äº‘ç«¯ç®¡ç†é¢æ¿ -->
  <div id="cloud-management" class="modal">
    <h3><i class="fas fa-cloud"></i> äº‘ç«¯åŒæ­¥ç®¡ç†</h3>
    
    <div class="cloud-tabs">
      <div class="cloud-tab active" data-tab="sync">åŒæ­¥æ•°æ®</div>
      <div class="cloud-tab" data-tab="config">äº‘ç«¯é…ç½®</div>
      <div class="cloud-tab" data-tab="help">ä½¿ç”¨å¸®åŠ©</div>
    </div>
    
    <!-- åŒæ­¥æ•°æ®æ ‡ç­¾é¡µ -->
    <div class="cloud-tab-content active" id="sync-tab">
      <div class="sync-info">
        <div class="sync-info-item">
          <span>äº‘ç«¯çŠ¶æ€:</span>
          <span id="cloud-sync-status">æœªè¿æ¥</span>
        </div>
        <div class="sync-info-item">
          <span>æœ€ååŒæ­¥:</span>
          <span id="cloud-last-sync">ä»æœªåŒæ­¥</span>
        </div>
        <div class="sync-info-item">
          <span>é“¾æ¥æ•°é‡:</span>
          <span id="cloud-link-count">0</span>
        </div>
      </div>
      
      <div class="sync-actions">
        <button class="sync-btn sync-btn-primary" id="sync-to-cloud">
          <i class="fas fa-cloud-upload-alt"></i>
          ä¸Šä¼ åˆ°äº‘ç«¯
        </button>
        <button class="sync-btn sync-btn-secondary" id="sync-from-cloud">
          <i class="fas fa-cloud-download-alt"></i>
          ä»äº‘ç«¯ä¸‹è½½
        </button>
        <button class="sync-btn sync-btn-success" id="force-sync">
          <i class="fas fa-sync-alt"></i>
          å¼ºåˆ¶åŒæ­¥ï¼ˆè¦†ç›–ï¼‰
        </button>
      </div>
      
      <div style="text-align: center; margin-top: var(--spacing-lg);">
        <small style="color: var(--text-light);">
          äº‘ç«¯æ•°æ®ä¼šè¦†ç›–æœ¬åœ°æ•°æ®ï¼Œå»ºè®®å®šæœŸå¤‡ä»½
        </small>
      </div>
    </div>
    
    <!-- é…ç½®æ ‡ç­¾é¡µ -->
    <div class="cloud-tab-content" id="config-tab">
      <form class="config-form" id="cloud-config-form">
        <div class="input-wrapper">
          <input type="text" id="cloud-api-url" 
                 placeholder="Cloudflare Worker URL" 
                 required>
        </div>
        
        <div class="input-wrapper">
          <input type="password" id="cloud-api-key" 
                 placeholder="APIå¯†é’¥" 
                 required>
          <button type="button" class="password-toggle" data-target="cloud-api-key">
            <i class="fas fa-eye"></i>
          </button>
        </div>
        
        <div class="input-wrapper">
          <input type="password" id="cloud-admin-password" 
                 placeholder="äº‘ç«¯ç®¡ç†å¯†ç " 
                 value="admin123" required>
          <button type="button" class="password-toggle" data-target="cloud-admin-password">
            <i class="fas fa-eye"></i>
          </button>
        </div>
        
        <button type="submit" class="sync-btn sync-btn-primary">
          <i class="fas fa-save"></i>
          ä¿å­˜é…ç½®
        </button>
      </form>
      
      <div style="margin-top: var(--spacing-lg);">
        <h4 style="margin-bottom: var(--spacing-sm);">å¦‚ä½•è·å–é…ç½®ï¼Ÿ</h4>
        <ol style="padding-left: var(--spacing-md); font-size: 0.9rem; color: var(--text-light);">
          <li>åœ¨Cloudflareåˆ›å»ºä¸€ä¸ªWorker</li>
          <li>ç»‘å®šä¸€ä¸ªKVå‘½åç©ºé—´</li>
          <li>éƒ¨ç½²Workerè·å–URL</li>
          <li>åœ¨Workerè®¾ç½®ä¸­è®¾ç½®API_KEYå˜é‡</li>
        </ol>
      </div>
    </div>
    
    <!-- å¸®åŠ©æ ‡ç­¾é¡µ -->
    <div class="cloud-tab-content" id="help-tab">
      <h4>äº‘ç«¯åŒæ­¥åŠŸèƒ½è¯´æ˜</h4>
      <ul style="margin-bottom: var(--spacing-md); padding-left: var(--spacing-md);">
        <li>æ•°æ®å­˜å‚¨åœ¨Cloudflareå…¨çƒç½‘ç»œ</li>
        <li>æ”¯æŒè·¨è®¾å¤‡å®æ—¶åŒæ­¥</li>
        <li>æ•°æ®åŠ å¯†ä¼ è¾“</li>
        <li>è‡ªåŠ¨å¤‡ä»½å’Œç‰ˆæœ¬æ§åˆ¶</li>
      </ul>
      
      <h4>æ“ä½œè¯´æ˜</h4>
      <p style="font-size: 0.9rem; color: var(--text-light);">
        1. å…ˆåœ¨"äº‘ç«¯é…ç½®"ä¸­å¡«å†™Workerä¿¡æ¯<br>
        2. ä½¿ç”¨"ä¸Šä¼ åˆ°äº‘ç«¯"ä¿å­˜æ•°æ®<br>
        3. åœ¨å…¶ä»–è®¾å¤‡ä½¿ç”¨"ä»äº‘ç«¯ä¸‹è½½"åŒæ­¥<br>
        4. ç®¡ç†å¯†ç ï¼šadmin123ï¼ˆå¯åœ¨é…ç½®ä¸­ä¿®æ”¹ï¼‰
      </p>
    </div>
    
    <div class="modal-buttons" style="margin-top: var(--spacing-lg);">
      <button id="close-cloud-management" style="padding: var(--spacing-sm) var(--spacing-md);">
        å…³é—­
      </button>
    </div>
  </div>
  
  <!-- ç™»å½•è¡¨å• -->
  <div id="login-form-modal" class="modal">
    <h3>ç™»å½•ç®¡ç†</h3>
    <form id="login-form">
      <input type="password" id="login-password" name="login_password" placeholder="è¾“å…¥ç®¡ç†å¯†ç " required>
      <button type="submit">ç™»å½•</button>
    </form>
  </div>
  
  <!-- ç¼–è¾‘è¡¨å• -->
  <div id="edit-form" class="modal">
    <h2>æ·»åŠ /ç¼–è¾‘é“¾æ¥</h2>
    <form id="link-form">
      <input type="password" id="edit-password" name="edit_password" placeholder="ç¼–è¾‘å¯†ç " required>
      <input type="text" id="title" name="title" placeholder="é“¾æ¥æ ‡é¢˜" required>
      <input type="url" id="url" name="url" placeholder="é“¾æ¥åœ°å€ (https://...)" required>
      <input type="text" id="icon" name="icon" placeholder="å›¾æ ‡ç±»å (å¦‚: fas fa-home)" required>
      <input type="hidden" id="edit-index" value="-1">
      <button type="submit">ä¿å­˜</button>
    </form>
  </div>
  
  <!-- åˆ é™¤ç¡®è®¤å¯¹è¯æ¡† -->
  <div id="delete-confirm" class="modal">
    <h3>ç¡®è®¤åˆ é™¤</h3>
    <p>ç¡®å®šè¦åˆ é™¤è¿™ä¸ªé“¾æ¥å—ï¼Ÿæ­¤æ“ä½œæ— æ³•æ’¤é”€ã€‚</p>
    <div class="confirm-buttons">
      <button id="cancel-delete-btn">å–æ¶ˆ</button>
      <button id="confirm-delete-btn">åˆ é™¤</button>
    </div>
  </div>
  
  <!-- æ·»åŠ é“¾æ¥æŒ‰é’® -->
  <button id="toggle-edit">æ·»åŠ é“¾æ¥</button>
  
  <footer>
    <p>&copy; 2026 Quick Nav. æç®€å¯¼èˆªå·¥å…· - äº‘ç«¯åŒæ­¥ç‰ˆ</p>
    <nav>
      <a href="#" onclick="showAbout()">å…³äº</a>
      <a href="#" onclick="showHelp()">å¸®åŠ©</a>
      <a href="#" onclick="showCloudManagement()">äº‘ç«¯åŒæ­¥</a>
    </nav>
  </footer>
  
  <script>
    // é…ç½® Cloudflare Worker ç«¯ç‚¹
    const CLOUDFLARE_CONFIG = {
      workerUrl: localStorage.getItem('cloudflare_worker_url') || '',
      apiKey: localStorage.getItem('cloudflare_api_key') || '',
      adminPassword: localStorage.getItem('cloudflare_admin_password') || 'admin123',
      enabled: localStorage.getItem('cloudflare_enabled') === 'true'
    };
    
    // é»˜è®¤é“¾æ¥æ•°æ®
    const defaultLinks = [
      { title: "Google", url: "https://google.com", icon: "fab fa-google" },
      { title: "DeepSeek", url: "https://chat.deepseek.com", icon: "fas fa-brain" },
      { title: "ChatGPT", url: "https://chat.openai.com", icon: "fas fa-robot" },
      { title: "GitHub", url: "https://github.com", icon: "fab fa-github" },
      { title: "YouTube", url: "https://youtube.com", icon: "fab fa-youtube" },
      { title: "Gmail", url: "https://mail.google.com", icon: "fas fa-envelope" },
      { title: "ç™¾åº¦", url: "https://baidu.com", icon: "fas fa-search" },
      { title: "çŸ¥ä¹", url: "https://zhihu.com", icon: "fas fa-question-circle" }
    ];
    
    // å…¨å±€å˜é‡
    let links = [];
    let isLoggedIn = false;
    let linkToDelete = null;
    let isSyncing = false;
    let lastSyncTime = null;
    
    // åˆå§‹åŒ–å‡½æ•°
    function init() {
      // åŠ è½½æ•°æ®
      loadLocalData();
      
      // æ›´æ–°UIçŠ¶æ€
      updateLoginStatus();
      updateCloudStatus();
      renderAllLinks();
      
      // ç»‘å®šäº‹ä»¶
      bindEvents();
      
      // å¦‚æœæœ‰äº‘ç«¯é…ç½®ï¼Œå°è¯•æ£€æŸ¥è¿æ¥
      if (CLOUDFLARE_CONFIG.enabled && CLOUDFLARE_CONFIG.workerUrl) {
        setTimeout(checkCloudConnection, 1000);
      }
    }
    
    // åŠ è½½æœ¬åœ°æ•°æ®
    function loadLocalData() {
      const savedLinks = localStorage.getItem('quicknav-links');
      links = savedLinks ? JSON.parse(savedLinks) : [...defaultLinks];
      
      if (!savedLinks) {
        localStorage.setItem('quicknav-links', JSON.stringify(links));
      }
      
      isLoggedIn = localStorage.getItem('quicknav-logged-in') === 'true';
      lastSyncTime = localStorage.getItem('last_sync_time') || null;
    }
    
    // ç»‘å®šæ‰€æœ‰äº‹ä»¶
    function bindEvents() {
      // æœç´¢åŠŸèƒ½
      document.getElementById('search-input').addEventListener('input', handleSearch);
      
      // ç™»å½•ç›¸å…³
      document.getElementById('login-status-text').addEventListener('click', openLoginForm);
      document.getElementById('logout-btn').addEventListener('click', logout);
      document.getElementById('login-form').addEventListener('submit', handleLoginSubmit);
      
      // ç¼–è¾‘ç›¸å…³
      document.getElementById('toggle-edit').addEventListener('click', toggleEditMode);
      document.getElementById('link-form').addEventListener('submit', handleFormSubmit);
      
      // åˆ é™¤ç›¸å…³
      document.getElementById('confirm-delete-btn').addEventListener('click', confirmDelete);
      document.getElementById('cancel-delete-btn').addEventListener('click', cancelDelete);
      
      // äº‘ç«¯ç›¸å…³
      document.getElementById('cloud-status').addEventListener('click', showCloudManagement);
      document.getElementById('sync-to-cloud').addEventListener('click', uploadToCloud);
      document.getElementById('sync-from-cloud').addEventListener('click', downloadFromCloud);
      document.getElementById('force-sync').addEventListener('click', forceSync);
      document.getElementById('cloud-config-form').addEventListener('submit', saveCloudConfig);
      document.getElementById('close-cloud-management').addEventListener('click', hideCloudManagement);
      
      // å¯†ç æ˜¾ç¤º/éšè—åˆ‡æ¢
      document.querySelectorAll('.password-toggle').forEach(btn => {
        btn.addEventListener('click', function() {
          const targetId = this.getAttribute('data-target');
          const input = document.getElementById(targetId);
          const icon = this.querySelector('i');
          
          if (input.type === 'password') {
            input.type = 'text';
            icon.className = 'fas fa-eye-slash';
          } else {
            input.type = 'password';
            icon.className = 'fas fa-eye';
          }
        });
      });
      
      // æ ‡ç­¾é¡µåˆ‡æ¢
      document.querySelectorAll('.cloud-tab').forEach(tab => {
        tab.addEventListener('click', function() {
          const tabId = this.getAttribute('data-tab');
          switchTab(tabId);
        });
      });
      
      // æ¨¡æ€æ¡†ç‚¹å‡»å¤–éƒ¨å…³é—­
      document.addEventListener('click', (e) => {
        const modals = ['login-form-modal', 'edit-form', 'delete-confirm', 'cloud-management'];
        const modalElements = modals.map(id => document.getElementById(id));
        
        modalElements.forEach(modal => {
          if (modal && modal.style.display === 'block' && !modal.contains(e.target)) {
            const ignoreTargets = [
              'login-status-text', 'toggle-edit', 'cloud-status'
            ];
            
            if (!ignoreTargets.includes(e.target.id) && 
                !e.target.closest('#' + ignoreTargets.join(', #'))) {
              modal.style.display = 'none';
              
              if (modal.id === 'edit-form') {
                document.getElementById('toggle-edit').textContent = 'æ·»åŠ é“¾æ¥';
                document.getElementById('toggle-edit').style.backgroundColor = 'var(--primary-color)';
              }
            }
          }
        });
      });
    }
    
    // === äº‘ç«¯åŠŸèƒ½ ===
    function updateCloudStatus() {
      const statusEl = document.getElementById('cloud-status-text');
      const cloudStatus = document.getElementById('cloud-status');
      
      if (CLOUDFLARE_CONFIG.enabled && CLOUDFLARE_CONFIG.workerUrl) {
        statusEl.textContent = 'äº‘ç«¯å·²è¿æ¥';
        statusEl.className = 'cloud-status-text cloud-synced';
        cloudStatus.style.backgroundColor = 'rgba(52, 152, 219, 0.1)';
      } else {
        statusEl.textContent = 'æœ¬åœ°æ¨¡å¼';
        statusEl.className = 'cloud-status-text';
        cloudStatus.style.backgroundColor = 'var(--light-color)';
      }
    }
    
    async function checkCloudConnection() {
      try {
        const response = await fetch(`${CLOUDFLARE_CONFIG.workerUrl}/api/config`, {
          headers: {
            'Authorization': `Bearer ${CLOUDFLARE_CONFIG.apiKey}`
          }
        });
        
        if (response.ok) {
          console.log('äº‘ç«¯è¿æ¥æˆåŠŸ');
          return true;
        }
      } catch (error) {
        console.warn('æ— æ³•è¿æ¥åˆ°äº‘ç«¯:', error);
      }
      return false;
    }
    
    async function uploadToCloud() {
      if (!CLOUDFLARE_CONFIG.workerUrl) {
        showNotification('è¯·å…ˆé…ç½®Cloudflare Worker URL', 'error');
        switchTab('config');
        return;
      }
      
      if (isSyncing) return;
      isSyncing = true;
      
      const btn = document.getElementById('sync-to-cloud');
      const originalText = btn.innerHTML;
      btn.innerHTML = '<div class="loader"></div> ä¸Šä¼ ä¸­...';
      
      try {
        const response = await fetch(`${CLOUDFLARE_CONFIG.workerUrl}/api/links`, {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
            'Authorization': `Bearer ${CLOUDFLARE_CONFIG.apiKey}`
          },
          body: JSON.stringify({
            links: links,
            password: CLOUDFLARE_CONFIG.adminPassword
          })
        });
        
        const data = await response.json();
        
        if (response.ok) {
          lastSyncTime = new Date().toISOString();
          localStorage.setItem('last_sync_time', lastSyncTime);
          updateSyncInfo();
          showNotification('æ•°æ®å·²æˆåŠŸä¸Šä¼ åˆ°äº‘ç«¯', 'success');
        } else {
          throw new Error(data.error || 'ä¸Šä¼ å¤±è´¥');
        }
      } catch (error) {
        showNotification(`ä¸Šä¼ å¤±è´¥: ${error.message}`, 'error');
        console.error('ä¸Šä¼ å¤±è´¥:', error);
      } finally {
        isSyncing = false;
        btn.innerHTML = originalText;
      }
    }
    
    async function downloadFromCloud() {
      if (!CLOUDFLARE_CONFIG.workerUrl) {
        showNotification('è¯·å…ˆé…ç½®Cloudflare Worker URL', 'error');
        switchTab('config');
        return;
      }
      
      if (isSyncing) return;
      isSyncing = true;
      
      const btn = document.getElementById('sync-from-cloud');
      const originalText = btn.innerHTML;
      btn.innerHTML = '<div class="loader"></div> ä¸‹è½½ä¸­...';
      
      try {
        const response = await fetch(`${CLOUDFLARE_CONFIG.workerUrl}/api/links`);
        
        if (response.ok) {
          const data = await response.json();
          
          if (data.links && data.links.length > 0) {
            if (confirm(`å°†ä»äº‘ç«¯ä¸‹è½½ ${data.links.length} ä¸ªé“¾æ¥ï¼Œè¿™ä¼šè¦†ç›–å½“å‰çš„ ${links.length} ä¸ªæœ¬åœ°é“¾æ¥ã€‚ç¡®å®šè¦ç»§ç»­å—ï¼Ÿ`)) {
              links = data.links;
              localStorage.setItem('quicknav-links', JSON.stringify(links));
              lastSyncTime = new Date().toISOString();
              localStorage.setItem('last_sync_time', lastSyncTime);
              
              renderAllLinks();
              updateSyncInfo();
              showNotification('å·²ä»äº‘ç«¯ä¸‹è½½æ•°æ®', 'success');
            }
          } else {
            showNotification('äº‘ç«¯æ²¡æœ‰æ•°æ®', 'warning');
          }
        } else {
          const errorData = await response.json();
          throw new Error(errorData.error || 'ä¸‹è½½å¤±è´¥');
        }
      } catch (error) {
        showNotification(`ä¸‹è½½å¤±è´¥: ${error.message}`, 'error');
        console.error('ä¸‹è½½å¤±è´¥:', error);
      } finally {
        isSyncing = false;
        btn.innerHTML = originalText;
      }
    }
    
    async function forceSync() {
      if (confirm('å¼ºåˆ¶åŒæ­¥å°†ç”¨äº‘ç«¯æ•°æ®å®Œå…¨è¦†ç›–æœ¬åœ°æ•°æ®ï¼Œä¸”ä¸å¯æ¢å¤ã€‚ç¡®å®šè¦ç»§ç»­å—ï¼Ÿ')) {
        await downloadFromCloud();
      }
    }
    
    function saveCloudConfig(e) {
      e.preventDefault();
      
      const workerUrl = document.getElementById('cloud-api-url').value;
      const apiKey = document.getElementById('cloud-api-key').value;
      const adminPassword = document.getElementById('cloud-admin-password').value;
      
      if (!workerUrl || !apiKey) {
        showNotification('è¯·å¡«å†™æ‰€æœ‰å¿…å¡«å­—æ®µ', 'error');
        return;
      }
      
      // ä¿å­˜é…ç½®
      CLOUDFLARE_CONFIG.workerUrl = workerUrl;
      CLOUDFLARE_CONFIG.apiKey = apiKey;
      CLOUDFLARE_CONFIG.adminPassword = adminPassword;
      CLOUDFLARE_CONFIG.enabled = true;
      
      localStorage.setItem('cloudflare_worker_url', workerUrl);
      localStorage.setItem('cloudflare_api_key', apiKey);
      localStorage.setItem('cloudflare_admin_password', adminPassword);
      localStorage.setItem('cloudflare_enabled', 'true');
      
      updateCloudStatus();
      updateSyncInfo();
      showNotification('äº‘ç«¯é…ç½®å·²ä¿å­˜', 'success');
      
      // æµ‹è¯•è¿æ¥
      setTimeout(async () => {
        const connected = await checkCloudConnection();
        if (connected) {
          showNotification('äº‘ç«¯è¿æ¥æµ‹è¯•æˆåŠŸ', 'success');
        } else {
          showNotification('äº‘ç«¯è¿æ¥å¤±è´¥ï¼Œè¯·æ£€æŸ¥é…ç½®', 'error');
        }
      }, 500);
    }
    
    function updateSyncInfo() {
      document.getElementById('cloud-last-sync').textContent = 
        lastSyncTime ? new Date(lastSyncTime).toLocaleString() : 'ä»æœªåŒæ­¥';
      document.getElementById('cloud-link-count').textContent = links.length;
      
      if (CLOUDFLARE_CONFIG.enabled && CLOUDFLARE_CONFIG.workerUrl) {
        document.getElementById('cloud-sync-status').textContent = 'å·²è¿æ¥';
        document.getElementById('cloud-sync-status').style.color = 'var(--success-color)';
      } else {
        document.getElementById('cloud-sync-status').textContent = 'æœªè¿æ¥';
        document.getElementById('cloud-sync-status').style.color = 'var(--text-light)';
      }
    }
    
    function switchTab(tabId) {
      // æ›´æ–°æ ‡ç­¾
      document.querySelectorAll('.cloud-tab').forEach(tab => {
        tab.classList.remove('active');
      });
      document.querySelector(`.cloud-tab[data-tab="${tabId}"]`).classList.add('active');
      
      // æ›´æ–°å†…å®¹
      document.querySelectorAll('.cloud-tab-content').forEach(content => {
        content.classList.remove('active');
      });
      document.getElementById(`${tabId}-tab`).classList.add('active');
      
      // å¦‚æœæ˜¯é…ç½®æ ‡ç­¾é¡µï¼Œé¢„å¡«æ•°æ®
      if (tabId === 'config') {
        document.getElementById('cloud-api-url').value = CLOUDFLARE_CONFIG.workerUrl;
        document.getElementById('cloud-api-key').value = CLOUDFLARE_CONFIG.apiKey;
        document.getElementById('cloud-admin-password').value = CLOUDFLARE_CONFIG.adminPassword;
      }
      
      // å¦‚æœæ˜¯åŒæ­¥æ ‡ç­¾é¡µï¼Œæ›´æ–°ä¿¡æ¯
      if (tabId === 'sync') {
        updateSyncInfo();
      }
    }
    
    function showCloudManagement() {
      document.getElementById('cloud-management').style.display = 'block';
      switchTab('sync');
    }
    
    function hideCloudManagement() {
      document.getElementById('cloud-management').style.display = 'none';
    }
    
    function showNotification(message, type = 'success') {
      const notification = document.getElementById('sync-notification');
      notification.textContent = message;
      notification.style.backgroundColor = type === 'success' ? 'var(--success-color)' : 
                                        type === 'error' ? 'var(--danger-color)' : 
                                        type === 'warning' ? 'var(--accent-color)' : 'var(--primary-color)';
      notification.style.display = 'block';
      
      setTimeout(() => {
        notification.style.display = 'none';
      }, 3000);
    }
    
    // === æ ¸å¿ƒåŠŸèƒ½ ===
    function updateLoginStatus() {
      const statusText = document.getElementById('login-status-text');
      const logoutBtn = document.getElementById('logout-btn');
      
      if (isLoggedIn) {
        statusText.textContent = "å·²ç™»å½•";
        statusText.className = "login-status-text logged-in";
        logoutBtn.style.display = "block";
      } else {
        statusText.textContent = "æœªç™»å½• (ç‚¹å‡»ç™»å½•)";
        statusText.className = "login-status-text";
        logoutBtn.style.display = "none";
      }
      
      renderAllLinks(document.getElementById('search-input').value);
    }
    
    function renderAllLinks(searchTerm = '') {
      const linkGrid = document.getElementById('main-link-grid');
      const emptyState = document.getElementById('empty-state');
      
      if (!linkGrid) return;
      
      linkGrid.innerHTML = '';
      
      const filteredLinks = links.filter(link => {
        if (!searchTerm.trim()) return true;
        return link.title.toLowerCase().includes(searchTerm.toLowerCase()) || 
               link.url.toLowerCase().includes(searchTerm.toLowerCase());
      });
      
      if (filteredLinks.length === 0) {
        if (searchTerm.trim()) {
          emptyState.innerHTML = `<p>æ²¡æœ‰æ‰¾åˆ°åŒ…å«"${searchTerm}"çš„é“¾æ¥</p>`;
        } else {
          emptyState.innerHTML = `<p>è¿˜æ²¡æœ‰æ·»åŠ ä»»ä½•é“¾æ¥ï¼Œç‚¹å‡»å³ä¸‹è§’çš„"æ·»åŠ é“¾æ¥"æŒ‰é’®å¼€å§‹å§ï¼</p>`;
        }
        emptyState.style.display = 'block';
        return;
      }
      
      emptyState.style.display = 'none';
      
      filteredLinks.forEach((link, index) => {
        const linkContainer = document.createElement('div');
        linkContainer.className = "link-card";
        
        const linkAnchor = document.createElement('a');
        linkAnchor.href = link.url;
        linkAnchor.target = "_blank";
        linkAnchor.style.textDecoration = "none";
        linkAnchor.style.color = "inherit";
        linkAnchor.style.width = "100%";
        linkAnchor.style.display = "flex";
        linkAnchor.style.flexDirection = "column";
        linkAnchor.style.alignItems = "center";
        linkAnchor.rel = "noopener noreferrer";
        
        linkAnchor.innerHTML = `
          <div class="link-icon">
            <i class="${link.icon}"></i>
          </div>
          <div class="link-title">${link.title}</div>
        `;
        
        // æ“ä½œæŒ‰é’®
        if (isLoggedIn) {
          const actionsDiv = document.createElement('div');
          actionsDiv.className = "link-actions";
          
          const editBtn = document.createElement('div');
          editBtn.className = "edit-btn";
          editBtn.innerHTML = '<i class="fas fa-edit"></i>';
          editBtn.title = "ç¼–è¾‘é“¾æ¥";
          editBtn.addEventListener('click', (e) => {
            e.preventDefault();
            e.stopPropagation();
            openEditForm(index, link);
          });
          
          const deleteBtn = document.createElement('div');
          deleteBtn.className = "delete-btn";
          deleteBtn.innerHTML = '<i class="fas fa-trash"></i>';
          deleteBtn.title = "åˆ é™¤é“¾æ¥";
          deleteBtn.addEventListener('click', (e) => {
            e.preventDefault();
            e.stopPropagation();
            openDeleteConfirm(index, link);
          });
          
          actionsDiv.appendChild(editBtn);
          actionsDiv.appendChild(deleteBtn);
          linkContainer.appendChild(actionsDiv);
        }
        
        linkContainer.appendChild(linkAnchor);
        linkGrid.appendChild(linkContainer);
      });
    }
    
    function handleSearch(e) {
      renderAllLinks(e.target.value);
    }
    
    function openLoginForm() {
      if (!isLoggedIn) {
        document.getElementById('login-form-modal').style.display = 'block';
      }
    }
    
    function handleLoginSubmit(e) {
      e.preventDefault();
      
      const password = document.getElementById('login-password').value;
      
      if (password === "admin123") {
        isLoggedIn = true;
        localStorage.setItem('quicknav-logged-in', 'true');
        updateLoginStatus();
        document.getElementById('login-form-modal').style.display = 'none';
        document.getElementById('login-form').reset();
        showNotification('ç™»å½•æˆåŠŸï¼ç°åœ¨å¯ä»¥è¿›è¡Œç®¡ç†æ“ä½œã€‚', 'success');
      } else {
        showNotification('å¯†ç é”™è¯¯ï¼', 'error');
      }
    }
    
    function logout() {
      isLoggedIn = false;
      localStorage.setItem('quicknav-logged-in', 'false');
      updateLoginStatus();
      showNotification('å·²é€€å‡ºç™»å½•', 'success');
    }
    
    function openEditForm(index, link) {
      if (!isLoggedIn) {
        showNotification('è¯·å…ˆç™»å½•æ‰èƒ½ç¼–è¾‘é“¾æ¥ï¼', 'error');
        openLoginForm();
        return;
      }
      
      document.getElementById('edit-form').style.display = 'block';
      document.getElementById('title').value = link.title;
      document.getElementById('url').value = link.url;
      document.getElementById('icon').value = link.icon;
      document.getElementById('edit-index').value = index;
    }
    
    function toggleEditMode() {
      const editForm = document.getElementById('edit-form');
      const toggleEditBtn = document.getElementById('toggle-edit');
      
      if (editForm.style.display === 'block') {
        editForm.style.display = 'none';
        toggleEditBtn.textContent = 'æ·»åŠ é“¾æ¥';
        toggleEditBtn.style.backgroundColor = 'var(--primary-color)';
      } else {
        if (!isLoggedIn) {
          showNotification('è¯·å…ˆç™»å½•æ‰èƒ½æ·»åŠ é“¾æ¥ï¼', 'error');
          openLoginForm();
          return;
        }
        
        document.getElementById('link-form').reset();
        document.getElementById('edit-index').value = '-1';
        
        editForm.style.display = 'block';
        toggleEditBtn.textContent = 'å…³é—­';
        toggleEditBtn.style.backgroundColor = 'var(--dark-color)';
      }
    }
    
    function handleFormSubmit(e) {
      e.preventDefault();
      
      const password = document.getElementById('edit-password').value;
      const title = document.getElementById('title').value;
      const url = document.getElementById('url').value;
      const icon = document.getElementById('icon').value;
      const editIndex = parseInt(document.getElementById('edit-index').value);
      
      if (password !== "admin123") {
        showNotification('å¯†ç é”™è¯¯ï¼', 'error');
        return;
      }
      
      if (!title.trim()) {
        showNotification('è¯·è¾“å…¥é“¾æ¥æ ‡é¢˜ï¼', 'error');
        return;
      }
      
      if (!url.trim()) {
        showNotification('è¯·è¾“å…¥é“¾æ¥åœ°å€ï¼', 'error');
        return;
      }
      
      let finalUrl = url;
      if (!url.startsWith('http://') && !url.startsWith('https://')) {
        finalUrl = 'https://' + url;
      }
      
      const newLink = { 
        title: title.trim(), 
        url: finalUrl, 
        icon: icon.trim() || 'fas fa-link' 
      };
      
      if (editIndex >= 0 && editIndex < links.length) {
        links[editIndex] = newLink;
      } else {
        links.push(newLink);
      }
      
      // ä¿å­˜åˆ°æœ¬åœ°å­˜å‚¨
      localStorage.setItem('quicknav-links', JSON.stringify(links));
      
      // å¦‚æœäº‘ç«¯å¯ç”¨ï¼Œè‡ªåŠ¨åŒæ­¥
      if (CLOUDFLARE_CONFIG.enabled) {
        setTimeout(uploadToCloud, 500);
      }
      
      renderAllLinks(document.getElementById('search-input').value);
      
      document.getElementById('edit-form').style.display = 'none';
      document.getElementById('toggle-edit').textContent = 'æ·»åŠ é“¾æ¥';
      document.getElementById('toggle-edit').style.backgroundColor = 'var(--primary-color)';
      document.getElementById('link-form').reset();
      document.getElementById('edit-index').value = '-1';
      
      showNotification('é“¾æ¥å·²ä¿å­˜ï¼', 'success');
    }
    
    function openDeleteConfirm(index, link) {
      if (!isLoggedIn) {
        showNotification('è¯·å…ˆç™»å½•æ‰èƒ½åˆ é™¤é“¾æ¥ï¼', 'error');
        openLoginForm();
        return;
      }
      
      linkToDelete = { index, link };
      document.getElementById('delete-confirm').style.display = 'block';
    }
    
    function confirmDelete() {
      if (linkToDelete) {
        const { index } = linkToDelete;
        links.splice(index, 1);
        localStorage.setItem('quicknav-links', JSON.stringify(links));
        
        // å¦‚æœäº‘ç«¯å¯ç”¨ï¼Œè‡ªåŠ¨åŒæ­¥
        if (CLOUDFLARE_CONFIG.enabled) {
          setTimeout(uploadToCloud, 500);
        }
        
        renderAllLinks(document.getElementById('search-input').value);
        document.getElementById('delete-confirm').style.display = 'none';
        linkToDelete = null;
        showNotification('é“¾æ¥å·²åˆ é™¤ï¼', 'success');
      }
    }
    
    function cancelDelete() {
      document.getElementById('delete-confirm').style.display = 'none';
      linkToDelete = null;
    }
    
    // === å·¥å…·å‡½æ•° ===
    function showAbout() {
      alert("Quick Nav - æç®€å¯¼èˆªå·¥å…·\n\n" +
            "ä¸€ä¸ªç®€æ´ã€å¿«é€Ÿçš„ä¸ªäººå¯¼èˆªé¡µé¢ï¼Œå¯ä»¥è‡ªç”±æ·»åŠ å’Œç®¡ç†å¸¸ç”¨ç½‘ç«™é“¾æ¥ã€‚\n\n" +
            "ğŸ”’ ç®¡ç†å¯†ç ï¼šadmin123\n" +
            "â˜ï¸ æ”¯æŒäº‘ç«¯åŒæ­¥\n" +
            "ğŸ’¾ æœ¬åœ°å­˜å‚¨ + äº‘ç«¯å¤‡ä»½\n" +
            "ğŸ”„ ä¿®æ”¹è‡ªåŠ¨ä¿å­˜\n" +
            "âš ï¸ æ³¨æ„ï¼šæ¸…é™¤æµè§ˆå™¨ç¼“å­˜ä¼šä¸¢å¤±æœ¬åœ°æ•°æ®");
    }
    
    function showHelp() {
      alert("ä½¿ç”¨å¸®åŠ©ï¼š\n\n" +
            "1. ç‚¹å‡»é“¾æ¥å¯ä»¥å¿«é€Ÿè®¿é—®ç½‘ç«™\n" +
            "2. ç‚¹å‡»å³ä¸‹è§’'æ·»åŠ é“¾æ¥'å¯ä»¥æ·»åŠ æ–°é“¾æ¥ï¼ˆéœ€è¦å…ˆç™»å½•ï¼‰\n" +
            "3. ç™»å½•åå¯ä»¥å¯¹é“¾æ¥è¿›è¡Œç¼–è¾‘å’Œåˆ é™¤\n" +
            "4. åœ¨æœç´¢æ¡†ä¸­è¾“å…¥å…³é”®è¯å¯ä»¥å¿«é€ŸæŸ¥æ‰¾é“¾æ¥\n" +
            "5. ç®¡ç†å¯†ç ï¼šadmin123\n\n" +
            "ğŸ“ æ•°æ®å­˜å‚¨ï¼š\n" +
            "- æœ¬åœ°ï¼šæµè§ˆå™¨æœ¬åœ°å­˜å‚¨\n" +
            "- äº‘ç«¯ï¼šCloudflare Workers KVï¼ˆéœ€é…ç½®ï¼‰");
    }
    
    // é¡µé¢åŠ è½½
    document.addEventListener('DOMContentLoaded', init);
  </script>
</body>
</html>
